{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{CellType,Direction,GhostState}from'../types/game.ts';import{GAME_CONFIG}from'../config/gameConfig.ts';import{jsx as _jsx}from\"react/jsx-runtime\";/**\r\n * Canvas-based game renderer with retro CRT effects and AI visualizations\r\n */export const GameRenderer=_ref=>{let{gameState,className}=_ref;const canvasRef=useRef(null);const animationFrameRef=useRef();useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// Set canvas size\ncanvas.width=GAME_CONFIG.MAZE_WIDTH*GAME_CONFIG.CELL_SIZE;canvas.height=GAME_CONFIG.MAZE_HEIGHT*GAME_CONFIG.CELL_SIZE;const render=()=>{// Clear canvas\nctx.fillStyle='#000000';ctx.fillRect(0,0,canvas.width,canvas.height);// Render maze\nrenderMaze(ctx,gameState.maze);// Render AI features if enabled\nif(gameState.showAIFeatures){renderDangerHeatmap(ctx,gameState.dangerMap);renderGhostPredictions(ctx,gameState.ghosts);renderSafeZones(ctx,gameState);}// Render game entities\nrenderPacMan(ctx,gameState.pacman);renderGhosts(ctx,gameState.ghosts);renderFruit(ctx,gameState.fruitPosition,gameState.level);// Render effects\nif(gameState.powerPelletActive){renderPowerPelletEffect(ctx);}animationFrameRef.current=requestAnimationFrame(render);};render();return()=>{if(animationFrameRef.current){cancelAnimationFrame(animationFrameRef.current);}};},[gameState]);return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"\".concat(className,\" \").concat(gameState.screenShake?'screen-shake':'',\" \").concat(gameState.vhsGlitch?'vhs-glitch':''),style:{imageRendering:'pixelated',filter:'drop-shadow(0 0 10px rgba(0, 255, 255, 0.3))'}});};/**\r\n * Render the maze walls, pellets, and power pellets\r\n */function renderMaze(ctx,maze){const cellSize=GAME_CONFIG.CELL_SIZE;maze.forEach((row,y)=>{row.forEach((cell,x)=>{const pixelX=x*cellSize;const pixelY=y*cellSize;switch(cell){case CellType.WALL:// Neon blue walls with glow effect\nctx.fillStyle='#0066ff';ctx.shadowColor='#00aaff';ctx.shadowBlur=8;ctx.fillRect(pixelX+2,pixelY+2,cellSize-4,cellSize-4);ctx.shadowBlur=0;break;case CellType.PELLET:// Small yellow pellets\nctx.fillStyle='#ffff00';ctx.shadowColor='#ffff00';ctx.shadowBlur=4;ctx.beginPath();ctx.arc(pixelX+cellSize/2,pixelY+cellSize/2,2,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;break;case CellType.POWER_PELLET:// Large pulsing power pellets\nconst pulseSize=6+Math.sin(Date.now()/200)*2;ctx.fillStyle='#ffff00';ctx.shadowColor='#ffff00';ctx.shadowBlur=12;ctx.beginPath();ctx.arc(pixelX+cellSize/2,pixelY+cellSize/2,pulseSize,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;break;case CellType.GHOST_HOUSE:// Ghost house area\nctx.fillStyle='#333333';ctx.fillRect(pixelX,pixelY,cellSize,cellSize);break;}});});}/**\r\n * Render danger heatmap overlay\r\n */function renderDangerHeatmap(ctx,dangerMap){if(!dangerMap.length)return;const cellSize=GAME_CONFIG.CELL_SIZE;dangerMap.forEach((row,y)=>{row.forEach((danger,x)=>{if(danger<=0)return;const pixelX=x*cellSize;const pixelY=y*cellSize;// Color from green (safe) to red (dangerous)\nconst red=Math.floor(255*danger);const green=Math.floor(255*(1-danger));ctx.fillStyle=\"rgba(\".concat(red,\", \").concat(green,\", 0, \").concat(0.3*danger,\")\");ctx.fillRect(pixelX,pixelY,cellSize,cellSize);});});}/**\r\n * Render ghost movement predictions\r\n */function renderGhostPredictions(ctx,ghosts){const cellSize=GAME_CONFIG.CELL_SIZE;ghosts.forEach(ghost=>{if(!ghost.pathPrediction||ghost.pathPrediction.length===0)return;ctx.strokeStyle=ghost.color;ctx.lineWidth=3;ctx.globalAlpha=0.6;ctx.setLineDash([5,5]);ctx.beginPath();ctx.moveTo(ghost.position.x*cellSize+cellSize/2,ghost.position.y*cellSize+cellSize/2);ghost.pathPrediction.forEach((pos,index)=>{const alpha=0.8-index*0.15;ctx.globalAlpha=Math.max(alpha,0.2);ctx.lineTo(pos.x*cellSize+cellSize/2,pos.y*cellSize+cellSize/2);});ctx.stroke();ctx.setLineDash([]);ctx.globalAlpha=1;});}/**\r\n * Render safe zones and escape routes\r\n */function renderSafeZones(ctx,gameState){// This would render safe zones if we had them in the game state\n// For now, we'll skip this to keep the implementation focused\n}/**\r\n * Render Pac-Man with animated mouth and directional sprites\r\n */function renderPacMan(ctx,pacman){const cellSize=GAME_CONFIG.CELL_SIZE;const centerX=pacman.position.x*cellSize+cellSize/2;const centerY=pacman.position.y*cellSize+cellSize/2;const radius=cellSize/2-2;if(pacman.isDead){// Death animation - spinning circle collapse\nconst deathFrame=Math.floor(Date.now()/100)%8;const deathRadius=radius*(1-deathFrame/8);ctx.fillStyle='#ffff00';ctx.shadowColor='#ffff00';ctx.shadowBlur=8;ctx.beginPath();ctx.arc(centerX,centerY,Math.max(deathRadius,0),0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;return;}// Calculate mouth angle based on direction\nlet startAngle=0;let endAngle=Math.PI*2;if(pacman.mouthOpen){const mouthSize=Math.PI/3;switch(pacman.direction){case Direction.RIGHT:startAngle=mouthSize/2;endAngle=Math.PI*2-mouthSize/2;break;case Direction.LEFT:startAngle=Math.PI-mouthSize/2;endAngle=Math.PI+mouthSize/2;break;case Direction.UP:startAngle=Math.PI*1.5-mouthSize/2;endAngle=Math.PI*1.5+mouthSize/2;break;case Direction.DOWN:startAngle=Math.PI*0.5-mouthSize/2;endAngle=Math.PI*0.5+mouthSize/2;break;}}// Draw Pac-Man with glow effect\nctx.fillStyle='#ffff00';ctx.shadowColor='#ffff00';ctx.shadowBlur=12;ctx.beginPath();ctx.arc(centerX,centerY,radius,startAngle,endAngle);if(pacman.mouthOpen&&pacman.direction!==Direction.NONE){ctx.lineTo(centerX,centerY);}ctx.closePath();ctx.fill();ctx.shadowBlur=0;// Add eye\nif(!pacman.mouthOpen||pacman.direction===Direction.NONE){ctx.fillStyle='#000000';ctx.beginPath();ctx.arc(centerX-3,centerY-5,2,0,Math.PI*2);ctx.fill();}}/**\r\n * Render ghosts with animated sprites and state-based colors\r\n */function renderGhosts(ctx,ghosts){const cellSize=GAME_CONFIG.CELL_SIZE;ghosts.forEach(ghost=>{const centerX=ghost.position.x*cellSize+cellSize/2;const centerY=ghost.position.y*cellSize+cellSize/2;const radius=cellSize/2-2;let fillColor=ghost.color;let shadowColor=ghost.color;// Handle different ghost states\nif(ghost.state===GhostState.FRIGHTENED){fillColor=ghost.isFlashing?'#ffffff':'#0066ff';shadowColor='#0066ff';}else if(ghost.state===GhostState.EATEN){fillColor='transparent';shadowColor='transparent';}if(ghost.state!==GhostState.EATEN){// Draw ghost body\nctx.fillStyle=fillColor;ctx.shadowColor=shadowColor;ctx.shadowBlur=8;// Ghost body (rounded top, wavy bottom)\nctx.beginPath();ctx.arc(centerX,centerY-2,radius,Math.PI,0);// Wavy bottom\nconst waveOffset=Math.sin(Date.now()/200+ghost.position.x)*2;ctx.lineTo(centerX+radius,centerY+radius-2);ctx.lineTo(centerX+radius-4,centerY+radius-2+waveOffset);ctx.lineTo(centerX+4,centerY+radius-2-waveOffset);ctx.lineTo(centerX,centerY+radius-2+waveOffset);ctx.lineTo(centerX-4,centerY+radius-2-waveOffset);ctx.lineTo(centerX-radius+4,centerY+radius-2+waveOffset);ctx.lineTo(centerX-radius,centerY+radius-2);ctx.closePath();ctx.fill();ctx.shadowBlur=0;// Draw eyes\nctx.fillStyle='#ffffff';ctx.beginPath();ctx.arc(centerX-6,centerY-4,3,0,Math.PI*2);ctx.arc(centerX+6,centerY-4,3,0,Math.PI*2);ctx.fill();// Draw pupils based on direction\nctx.fillStyle='#000000';let pupilOffsetX=0;let pupilOffsetY=0;switch(ghost.direction){case Direction.LEFT:pupilOffsetX=-1;break;case Direction.RIGHT:pupilOffsetX=1;break;case Direction.UP:pupilOffsetY=-1;break;case Direction.DOWN:pupilOffsetY=1;break;}ctx.beginPath();ctx.arc(centerX-6+pupilOffsetX,centerY-4+pupilOffsetY,1.5,0,Math.PI*2);ctx.arc(centerX+6+pupilOffsetX,centerY-4+pupilOffsetY,1.5,0,Math.PI*2);ctx.fill();}else{// Draw eyes only for eaten ghosts\nctx.fillStyle='#ffffff';ctx.shadowColor='#ffffff';ctx.shadowBlur=6;ctx.beginPath();ctx.arc(centerX-6,centerY-4,4,0,Math.PI*2);ctx.arc(centerX+6,centerY-4,4,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;ctx.fillStyle='#0066ff';ctx.beginPath();ctx.arc(centerX-6,centerY-4,2,0,Math.PI*2);ctx.arc(centerX+6,centerY-4,2,0,Math.PI*2);ctx.fill();}});}/**\r\n * Render fruit bonus items\r\n */function renderFruit(ctx,fruitPosition,level){if(!fruitPosition)return;const cellSize=GAME_CONFIG.CELL_SIZE;const centerX=fruitPosition.x*cellSize+cellSize/2;const centerY=fruitPosition.y*cellSize+cellSize/2;// Different fruit sprites based on level\nconst fruitColors=['#ff0000','#ffaa00','#ff6600','#aa00ff','#00ff00','#ff00aa','#00aaff','#ffff00'];const color=fruitColors[Math.min(level-1,7)];ctx.fillStyle=color;ctx.shadowColor=color;ctx.shadowBlur=10;// Simple fruit representation\nctx.beginPath();ctx.arc(centerX,centerY,8,0,Math.PI*2);ctx.fill();// Add sparkle effect\nconst sparkleOffset=Math.sin(Date.now()/150)*3;ctx.fillStyle='#ffffff';ctx.shadowBlur=15;ctx.beginPath();ctx.arc(centerX-3+sparkleOffset,centerY-3,1,0,Math.PI*2);ctx.arc(centerX+3-sparkleOffset,centerY+3,1,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;}/**\r\n * Render power pellet screen effect\r\n */function renderPowerPelletEffect(ctx){const canvas=ctx.canvas;const gradient=ctx.createRadialGradient(canvas.width/2,canvas.height/2,0,canvas.width/2,canvas.height/2,canvas.width/2);gradient.addColorStop(0,'rgba(255, 255, 0, 0.1)');gradient.addColorStop(1,'rgba(255, 255, 0, 0)');ctx.fillStyle=gradient;ctx.fillRect(0,0,canvas.width,canvas.height);}","map":{"version":3,"names":["React","useRef","useEffect","CellType","Direction","GhostState","GAME_CONFIG","jsx","_jsx","GameRenderer","_ref","gameState","className","canvasRef","animationFrameRef","canvas","current","ctx","getContext","width","MAZE_WIDTH","CELL_SIZE","height","MAZE_HEIGHT","render","fillStyle","fillRect","renderMaze","maze","showAIFeatures","renderDangerHeatmap","dangerMap","renderGhostPredictions","ghosts","renderSafeZones","renderPacMan","pacman","renderGhosts","renderFruit","fruitPosition","level","powerPelletActive","renderPowerPelletEffect","requestAnimationFrame","cancelAnimationFrame","ref","concat","screenShake","vhsGlitch","style","imageRendering","filter","cellSize","forEach","row","y","cell","x","pixelX","pixelY","WALL","shadowColor","shadowBlur","PELLET","beginPath","arc","Math","PI","fill","POWER_PELLET","pulseSize","sin","Date","now","GHOST_HOUSE","length","danger","red","floor","green","ghost","pathPrediction","strokeStyle","color","lineWidth","globalAlpha","setLineDash","moveTo","position","pos","index","alpha","max","lineTo","stroke","centerX","centerY","radius","isDead","deathFrame","deathRadius","startAngle","endAngle","mouthOpen","mouthSize","direction","RIGHT","LEFT","UP","DOWN","NONE","closePath","fillColor","state","FRIGHTENED","isFlashing","EATEN","waveOffset","pupilOffsetX","pupilOffsetY","fruitColors","min","sparkleOffset","gradient","createRadialGradient","addColorStop"],"sources":["C:/Users/VEDANT/Desktop/Src/Pacman/src/components/GameRenderer.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport { GameState, CellType, Direction, GhostState } from '../types/game.ts';\r\nimport { GAME_CONFIG } from '../config/gameConfig.ts';\r\n\r\ninterface GameRendererProps {\r\n  gameState: GameState;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Canvas-based game renderer with retro CRT effects and AI visualizations\r\n */\r\nexport const GameRenderer: React.FC<GameRendererProps> = ({ gameState, className }) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const animationFrameRef = useRef<number>();\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    // Set canvas size\r\n    canvas.width = GAME_CONFIG.MAZE_WIDTH * GAME_CONFIG.CELL_SIZE;\r\n    canvas.height = GAME_CONFIG.MAZE_HEIGHT * GAME_CONFIG.CELL_SIZE;\r\n\r\n    const render = () => {\r\n      // Clear canvas\r\n      ctx.fillStyle = '#000000';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Render maze\r\n      renderMaze(ctx, gameState.maze);\r\n\r\n      // Render AI features if enabled\r\n      if (gameState.showAIFeatures) {\r\n        renderDangerHeatmap(ctx, gameState.dangerMap);\r\n        renderGhostPredictions(ctx, gameState.ghosts);\r\n        renderSafeZones(ctx, gameState);\r\n      }\r\n\r\n      // Render game entities\r\n      renderPacMan(ctx, gameState.pacman);\r\n      renderGhosts(ctx, gameState.ghosts);\r\n      renderFruit(ctx, gameState.fruitPosition, gameState.level);\r\n\r\n      // Render effects\r\n      if (gameState.powerPelletActive) {\r\n        renderPowerPelletEffect(ctx);\r\n      }\r\n\r\n      animationFrameRef.current = requestAnimationFrame(render);\r\n    };\r\n\r\n    render();\r\n\r\n    return () => {\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n    };\r\n  }, [gameState]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className={`${className} ${gameState.screenShake ? 'screen-shake' : ''} ${gameState.vhsGlitch ? 'vhs-glitch' : ''}`}\r\n      style={{\r\n        imageRendering: 'pixelated',\r\n        filter: 'drop-shadow(0 0 10px rgba(0, 255, 255, 0.3))'\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\n/**\r\n * Render the maze walls, pellets, and power pellets\r\n */\r\nfunction renderMaze(ctx: CanvasRenderingContext2D, maze: CellType[][]): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  maze.forEach((row, y) => {\r\n    row.forEach((cell, x) => {\r\n      const pixelX = x * cellSize;\r\n      const pixelY = y * cellSize;\r\n\r\n      switch (cell) {\r\n        case CellType.WALL:\r\n          // Neon blue walls with glow effect\r\n          ctx.fillStyle = '#0066ff';\r\n          ctx.shadowColor = '#00aaff';\r\n          ctx.shadowBlur = 8;\r\n          ctx.fillRect(pixelX + 2, pixelY + 2, cellSize - 4, cellSize - 4);\r\n          ctx.shadowBlur = 0;\r\n          break;\r\n\r\n        case CellType.PELLET:\r\n          // Small yellow pellets\r\n          ctx.fillStyle = '#ffff00';\r\n          ctx.shadowColor = '#ffff00';\r\n          ctx.shadowBlur = 4;\r\n          ctx.beginPath();\r\n          ctx.arc(pixelX + cellSize / 2, pixelY + cellSize / 2, 2, 0, Math.PI * 2);\r\n          ctx.fill();\r\n          ctx.shadowBlur = 0;\r\n          break;\r\n\r\n        case CellType.POWER_PELLET:\r\n          // Large pulsing power pellets\r\n          const pulseSize = 6 + Math.sin(Date.now() / 200) * 2;\r\n          ctx.fillStyle = '#ffff00';\r\n          ctx.shadowColor = '#ffff00';\r\n          ctx.shadowBlur = 12;\r\n          ctx.beginPath();\r\n          ctx.arc(pixelX + cellSize / 2, pixelY + cellSize / 2, pulseSize, 0, Math.PI * 2);\r\n          ctx.fill();\r\n          ctx.shadowBlur = 0;\r\n          break;\r\n\r\n        case CellType.GHOST_HOUSE:\r\n          // Ghost house area\r\n          ctx.fillStyle = '#333333';\r\n          ctx.fillRect(pixelX, pixelY, cellSize, cellSize);\r\n          break;\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Render danger heatmap overlay\r\n */\r\nfunction renderDangerHeatmap(ctx: CanvasRenderingContext2D, dangerMap: number[][]): void {\r\n  if (!dangerMap.length) return;\r\n\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  dangerMap.forEach((row, y) => {\r\n    row.forEach((danger, x) => {\r\n      if (danger <= 0) return;\r\n\r\n      const pixelX = x * cellSize;\r\n      const pixelY = y * cellSize;\r\n      \r\n      // Color from green (safe) to red (dangerous)\r\n      const red = Math.floor(255 * danger);\r\n      const green = Math.floor(255 * (1 - danger));\r\n      \r\n      ctx.fillStyle = `rgba(${red}, ${green}, 0, ${0.3 * danger})`;\r\n      ctx.fillRect(pixelX, pixelY, cellSize, cellSize);\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Render ghost movement predictions\r\n */\r\nfunction renderGhostPredictions(ctx: CanvasRenderingContext2D, ghosts: any[]): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  ghosts.forEach(ghost => {\r\n    if (!ghost.pathPrediction || ghost.pathPrediction.length === 0) return;\r\n\r\n    ctx.strokeStyle = ghost.color;\r\n    ctx.lineWidth = 3;\r\n    ctx.globalAlpha = 0.6;\r\n    ctx.setLineDash([5, 5]);\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(\r\n      ghost.position.x * cellSize + cellSize / 2,\r\n      ghost.position.y * cellSize + cellSize / 2\r\n    );\r\n\r\n    ghost.pathPrediction.forEach((pos: any, index: number) => {\r\n      const alpha = 0.8 - (index * 0.15);\r\n      ctx.globalAlpha = Math.max(alpha, 0.2);\r\n      \r\n      ctx.lineTo(\r\n        pos.x * cellSize + cellSize / 2,\r\n        pos.y * cellSize + cellSize / 2\r\n      );\r\n    });\r\n\r\n    ctx.stroke();\r\n    ctx.setLineDash([]);\r\n    ctx.globalAlpha = 1;\r\n  });\r\n}\r\n\r\n/**\r\n * Render safe zones and escape routes\r\n */\r\nfunction renderSafeZones(ctx: CanvasRenderingContext2D, gameState: GameState): void {\r\n  // This would render safe zones if we had them in the game state\r\n  // For now, we'll skip this to keep the implementation focused\r\n}\r\n\r\n/**\r\n * Render Pac-Man with animated mouth and directional sprites\r\n */\r\nfunction renderPacMan(ctx: CanvasRenderingContext2D, pacman: any): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n  const centerX = pacman.position.x * cellSize + cellSize / 2;\r\n  const centerY = pacman.position.y * cellSize + cellSize / 2;\r\n  const radius = cellSize / 2 - 2;\r\n\r\n  if (pacman.isDead) {\r\n    // Death animation - spinning circle collapse\r\n    const deathFrame = Math.floor(Date.now() / 100) % 8;\r\n    const deathRadius = radius * (1 - deathFrame / 8);\r\n    \r\n    ctx.fillStyle = '#ffff00';\r\n    ctx.shadowColor = '#ffff00';\r\n    ctx.shadowBlur = 8;\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, Math.max(deathRadius, 0), 0, Math.PI * 2);\r\n    ctx.fill();\r\n    ctx.shadowBlur = 0;\r\n    return;\r\n  }\r\n\r\n  // Calculate mouth angle based on direction\r\n  let startAngle = 0;\r\n  let endAngle = Math.PI * 2;\r\n\r\n  if (pacman.mouthOpen) {\r\n    const mouthSize = Math.PI / 3;\r\n    switch (pacman.direction) {\r\n      case Direction.RIGHT:\r\n        startAngle = mouthSize / 2;\r\n        endAngle = Math.PI * 2 - mouthSize / 2;\r\n        break;\r\n      case Direction.LEFT:\r\n        startAngle = Math.PI - mouthSize / 2;\r\n        endAngle = Math.PI + mouthSize / 2;\r\n        break;\r\n      case Direction.UP:\r\n        startAngle = Math.PI * 1.5 - mouthSize / 2;\r\n        endAngle = Math.PI * 1.5 + mouthSize / 2;\r\n        break;\r\n      case Direction.DOWN:\r\n        startAngle = Math.PI * 0.5 - mouthSize / 2;\r\n        endAngle = Math.PI * 0.5 + mouthSize / 2;\r\n        break;\r\n    }\r\n  }\r\n\r\n  // Draw Pac-Man with glow effect\r\n  ctx.fillStyle = '#ffff00';\r\n  ctx.shadowColor = '#ffff00';\r\n  ctx.shadowBlur = 12;\r\n  \r\n  ctx.beginPath();\r\n  ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n  if (pacman.mouthOpen && pacman.direction !== Direction.NONE) {\r\n    ctx.lineTo(centerX, centerY);\r\n  }\r\n  ctx.closePath();\r\n  ctx.fill();\r\n  ctx.shadowBlur = 0;\r\n\r\n  // Add eye\r\n  if (!pacman.mouthOpen || pacman.direction === Direction.NONE) {\r\n    ctx.fillStyle = '#000000';\r\n    ctx.beginPath();\r\n    ctx.arc(centerX - 3, centerY - 5, 2, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n}\r\n\r\n/**\r\n * Render ghosts with animated sprites and state-based colors\r\n */\r\nfunction renderGhosts(ctx: CanvasRenderingContext2D, ghosts: any[]): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  ghosts.forEach(ghost => {\r\n    const centerX = ghost.position.x * cellSize + cellSize / 2;\r\n    const centerY = ghost.position.y * cellSize + cellSize / 2;\r\n    const radius = cellSize / 2 - 2;\r\n\r\n    let fillColor = ghost.color;\r\n    let shadowColor = ghost.color;\r\n\r\n    // Handle different ghost states\r\n    if (ghost.state === GhostState.FRIGHTENED) {\r\n      fillColor = ghost.isFlashing ? '#ffffff' : '#0066ff';\r\n      shadowColor = '#0066ff';\r\n    } else if (ghost.state === GhostState.EATEN) {\r\n      fillColor = 'transparent';\r\n      shadowColor = 'transparent';\r\n    }\r\n\r\n    if (ghost.state !== GhostState.EATEN) {\r\n      // Draw ghost body\r\n      ctx.fillStyle = fillColor;\r\n      ctx.shadowColor = shadowColor;\r\n      ctx.shadowBlur = 8;\r\n\r\n      // Ghost body (rounded top, wavy bottom)\r\n      ctx.beginPath();\r\n      ctx.arc(centerX, centerY - 2, radius, Math.PI, 0);\r\n      \r\n      // Wavy bottom\r\n      const waveOffset = Math.sin(Date.now() / 200 + ghost.position.x) * 2;\r\n      ctx.lineTo(centerX + radius, centerY + radius - 2);\r\n      ctx.lineTo(centerX + radius - 4, centerY + radius - 2 + waveOffset);\r\n      ctx.lineTo(centerX + 4, centerY + radius - 2 - waveOffset);\r\n      ctx.lineTo(centerX, centerY + radius - 2 + waveOffset);\r\n      ctx.lineTo(centerX - 4, centerY + radius - 2 - waveOffset);\r\n      ctx.lineTo(centerX - radius + 4, centerY + radius - 2 + waveOffset);\r\n      ctx.lineTo(centerX - radius, centerY + radius - 2);\r\n      \r\n      ctx.closePath();\r\n      ctx.fill();\r\n      ctx.shadowBlur = 0;\r\n\r\n      // Draw eyes\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6, centerY - 4, 3, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6, centerY - 4, 3, 0, Math.PI * 2);\r\n      ctx.fill();\r\n\r\n      // Draw pupils based on direction\r\n      ctx.fillStyle = '#000000';\r\n      let pupilOffsetX = 0;\r\n      let pupilOffsetY = 0;\r\n\r\n      switch (ghost.direction) {\r\n        case Direction.LEFT:\r\n          pupilOffsetX = -1;\r\n          break;\r\n        case Direction.RIGHT:\r\n          pupilOffsetX = 1;\r\n          break;\r\n        case Direction.UP:\r\n          pupilOffsetY = -1;\r\n          break;\r\n        case Direction.DOWN:\r\n          pupilOffsetY = 1;\r\n          break;\r\n      }\r\n\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6 + pupilOffsetX, centerY - 4 + pupilOffsetY, 1.5, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6 + pupilOffsetX, centerY - 4 + pupilOffsetY, 1.5, 0, Math.PI * 2);\r\n      ctx.fill();\r\n    } else {\r\n      // Draw eyes only for eaten ghosts\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.shadowColor = '#ffffff';\r\n      ctx.shadowBlur = 6;\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6, centerY - 4, 4, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6, centerY - 4, 4, 0, Math.PI * 2);\r\n      ctx.fill();\r\n      ctx.shadowBlur = 0;\r\n\r\n      ctx.fillStyle = '#0066ff';\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6, centerY - 4, 2, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6, centerY - 4, 2, 0, Math.PI * 2);\r\n      ctx.fill();\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Render fruit bonus items\r\n */\r\nfunction renderFruit(ctx: CanvasRenderingContext2D, fruitPosition: any, level: number): void {\r\n  if (!fruitPosition) return;\r\n\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n  const centerX = fruitPosition.x * cellSize + cellSize / 2;\r\n  const centerY = fruitPosition.y * cellSize + cellSize / 2;\r\n\r\n  // Different fruit sprites based on level\r\n  const fruitColors = ['#ff0000', '#ffaa00', '#ff6600', '#aa00ff', '#00ff00', '#ff00aa', '#00aaff', '#ffff00'];\r\n  const color = fruitColors[Math.min(level - 1, 7)];\r\n\r\n  ctx.fillStyle = color;\r\n  ctx.shadowColor = color;\r\n  ctx.shadowBlur = 10;\r\n\r\n  // Simple fruit representation\r\n  ctx.beginPath();\r\n  ctx.arc(centerX, centerY, 8, 0, Math.PI * 2);\r\n  ctx.fill();\r\n\r\n  // Add sparkle effect\r\n  const sparkleOffset = Math.sin(Date.now() / 150) * 3;\r\n  ctx.fillStyle = '#ffffff';\r\n  ctx.shadowBlur = 15;\r\n  ctx.beginPath();\r\n  ctx.arc(centerX - 3 + sparkleOffset, centerY - 3, 1, 0, Math.PI * 2);\r\n  ctx.arc(centerX + 3 - sparkleOffset, centerY + 3, 1, 0, Math.PI * 2);\r\n  ctx.fill();\r\n  ctx.shadowBlur = 0;\r\n}\r\n\r\n/**\r\n * Render power pellet screen effect\r\n */\r\nfunction renderPowerPelletEffect(ctx: CanvasRenderingContext2D): void {\r\n  const canvas = ctx.canvas;\r\n  const gradient = ctx.createRadialGradient(\r\n    canvas.width / 2, canvas.height / 2, 0,\r\n    canvas.width / 2, canvas.height / 2, canvas.width / 2\r\n  );\r\n  \r\n  gradient.addColorStop(0, 'rgba(255, 255, 0, 0.1)');\r\n  gradient.addColorStop(1, 'rgba(255, 255, 0, 0)');\r\n  \r\n  ctx.fillStyle = gradient;\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}