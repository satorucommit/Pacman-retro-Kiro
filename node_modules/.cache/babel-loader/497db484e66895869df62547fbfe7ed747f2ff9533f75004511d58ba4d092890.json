{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VEDANT\\\\Desktop\\\\Src\\\\Pacman\\\\src\\\\components\\\\GameRenderer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { CellType, Direction, GhostState } from '../types/game.ts';\nimport { GAME_CONFIG } from '../config/gameConfig.ts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/**\r\n * Canvas-based game renderer with retro CRT effects and AI visualizations\r\n */\nexport const GameRenderer = ({\n  gameState,\n  className\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const animationFrameRef = useRef();\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set canvas size\n    canvas.width = GAME_CONFIG.MAZE_WIDTH * GAME_CONFIG.CELL_SIZE;\n    canvas.height = GAME_CONFIG.MAZE_HEIGHT * GAME_CONFIG.CELL_SIZE;\n    const render = () => {\n      // Clear canvas\n      ctx.fillStyle = '#000000';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Render maze\n      renderMaze(ctx, gameState.maze);\n\n      // Render AI features if enabled\n      if (gameState.showAIFeatures) {\n        renderDangerHeatmap(ctx, gameState.dangerMap);\n        renderGhostPredictions(ctx, gameState.ghosts);\n        renderSafeZones(ctx, gameState);\n      }\n\n      // Render game entities\n      renderPacMan(ctx, gameState.pacman);\n      renderGhosts(ctx, gameState.ghosts);\n      renderFruit(ctx, gameState.fruitPosition, gameState.level);\n\n      // Render effects\n      if (gameState.powerPelletActive) {\n        renderPowerPelletEffect(ctx);\n      }\n      animationFrameRef.current = requestAnimationFrame(render);\n    };\n    render();\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [gameState]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    className: `${className} ${gameState.screenShake ? 'screen-shake' : ''} ${gameState.vhsGlitch ? 'vhs-glitch' : ''}`,\n    style: {\n      imageRendering: 'pixelated',\n      filter: 'drop-shadow(0 0 10px rgba(0, 255, 255, 0.3))'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * Render the maze walls, pellets, and power pellets\r\n */\n_s(GameRenderer, \"CSf7C5u/DOA1dBR7DPhXVAJZ8GA=\");\n_c = GameRenderer;\nfunction renderMaze(ctx, maze) {\n  const cellSize = GAME_CONFIG.CELL_SIZE;\n  maze.forEach((row, y) => {\n    row.forEach((cell, x) => {\n      const pixelX = x * cellSize;\n      const pixelY = y * cellSize;\n      switch (cell) {\n        case CellType.WALL:\n          // Neon blue walls with glow effect\n          ctx.fillStyle = '#0066ff';\n          ctx.shadowColor = '#00aaff';\n          ctx.shadowBlur = 8;\n          ctx.fillRect(pixelX + 2, pixelY + 2, cellSize - 4, cellSize - 4);\n          ctx.shadowBlur = 0;\n          break;\n        case CellType.PELLET:\n          // Small yellow pellets\n          ctx.fillStyle = '#ffff00';\n          ctx.shadowColor = '#ffff00';\n          ctx.shadowBlur = 4;\n          ctx.beginPath();\n          ctx.arc(pixelX + cellSize / 2, pixelY + cellSize / 2, 2, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.shadowBlur = 0;\n          break;\n        case CellType.POWER_PELLET:\n          // Large pulsing power pellets\n          const pulseSize = 6 + Math.sin(Date.now() / 200) * 2;\n          ctx.fillStyle = '#ffff00';\n          ctx.shadowColor = '#ffff00';\n          ctx.shadowBlur = 12;\n          ctx.beginPath();\n          ctx.arc(pixelX + cellSize / 2, pixelY + cellSize / 2, pulseSize, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.shadowBlur = 0;\n          break;\n        case CellType.GHOST_HOUSE:\n          // Ghost house area\n          ctx.fillStyle = '#333333';\n          ctx.fillRect(pixelX, pixelY, cellSize, cellSize);\n          break;\n      }\n    });\n  });\n}\n\n/**\r\n * Render danger heatmap overlay\r\n */\nfunction renderDangerHeatmap(ctx, dangerMap) {\n  if (!dangerMap.length) return;\n  const cellSize = GAME_CONFIG.CELL_SIZE;\n  dangerMap.forEach((row, y) => {\n    row.forEach((danger, x) => {\n      if (danger <= 0) return;\n      const pixelX = x * cellSize;\n      const pixelY = y * cellSize;\n\n      // Color from green (safe) to red (dangerous)\n      const red = Math.floor(255 * danger);\n      const green = Math.floor(255 * (1 - danger));\n      ctx.fillStyle = `rgba(${red}, ${green}, 0, ${0.3 * danger})`;\n      ctx.fillRect(pixelX, pixelY, cellSize, cellSize);\n    });\n  });\n}\n\n/**\r\n * Render ghost movement predictions\r\n */\nfunction renderGhostPredictions(ctx, ghosts) {\n  const cellSize = GAME_CONFIG.CELL_SIZE;\n  ghosts.forEach(ghost => {\n    if (!ghost.pathPrediction || ghost.pathPrediction.length === 0) return;\n    ctx.strokeStyle = ghost.color;\n    ctx.lineWidth = 3;\n    ctx.globalAlpha = 0.6;\n    ctx.setLineDash([5, 5]);\n    ctx.beginPath();\n    ctx.moveTo(ghost.position.x * cellSize + cellSize / 2, ghost.position.y * cellSize + cellSize / 2);\n    ghost.pathPrediction.forEach((pos, index) => {\n      const alpha = 0.8 - index * 0.15;\n      ctx.globalAlpha = Math.max(alpha, 0.2);\n      ctx.lineTo(pos.x * cellSize + cellSize / 2, pos.y * cellSize + cellSize / 2);\n    });\n    ctx.stroke();\n    ctx.setLineDash([]);\n    ctx.globalAlpha = 1;\n  });\n}\n\n/**\r\n * Render safe zones and escape routes\r\n */\nfunction renderSafeZones(ctx, gameState) {\n  // This would render safe zones if we had them in the game state\n  // For now, we'll skip this to keep the implementation focused\n}\n\n/**\r\n * Render Pac-Man with animated mouth and directional sprites\r\n */\nfunction renderPacMan(ctx, pacman) {\n  const cellSize = GAME_CONFIG.CELL_SIZE;\n  const centerX = pacman.position.x + cellSize / 2;\n  const centerY = pacman.position.y + cellSize / 2;\n  const radius = cellSize / 2 - 2;\n  if (pacman.isDead) {\n    // Death animation - spinning circle collapse\n    const deathFrame = Math.floor(Date.now() / 100) % 8;\n    const deathRadius = radius * (1 - deathFrame / 8);\n    ctx.fillStyle = '#ffff00';\n    ctx.shadowColor = '#ffff00';\n    ctx.shadowBlur = 8;\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, Math.max(deathRadius, 0), 0, Math.PI * 2);\n    ctx.fill();\n    ctx.shadowBlur = 0;\n    return;\n  }\n\n  // Calculate mouth angle based on direction\n  let startAngle = 0;\n  let endAngle = Math.PI * 2;\n  if (pacman.mouthOpen) {\n    const mouthSize = Math.PI / 3;\n    switch (pacman.direction) {\n      case Direction.RIGHT:\n        startAngle = mouthSize / 2;\n        endAngle = Math.PI * 2 - mouthSize / 2;\n        break;\n      case Direction.LEFT:\n        startAngle = Math.PI - mouthSize / 2;\n        endAngle = Math.PI + mouthSize / 2;\n        break;\n      case Direction.UP:\n        startAngle = Math.PI * 1.5 - mouthSize / 2;\n        endAngle = Math.PI * 1.5 + mouthSize / 2;\n        break;\n      case Direction.DOWN:\n        startAngle = Math.PI * 0.5 - mouthSize / 2;\n        endAngle = Math.PI * 0.5 + mouthSize / 2;\n        break;\n    }\n  }\n\n  // Draw Pac-Man with glow effect\n  ctx.fillStyle = '#ffff00';\n  ctx.shadowColor = '#ffff00';\n  ctx.shadowBlur = 12;\n  ctx.beginPath();\n  ctx.arc(centerX, centerY, radius, startAngle, endAngle);\n  if (pacman.mouthOpen && pacman.direction !== Direction.NONE) {\n    ctx.lineTo(centerX, centerY);\n  }\n  ctx.closePath();\n  ctx.fill();\n  ctx.shadowBlur = 0;\n\n  // Add eye\n  if (!pacman.mouthOpen || pacman.direction === Direction.NONE) {\n    ctx.fillStyle = '#000000';\n    ctx.beginPath();\n    ctx.arc(centerX - 3, centerY - 5, 2, 0, Math.PI * 2);\n    ctx.fill();\n  }\n}\n\n/**\r\n * Render ghosts with animated sprites and state-based colors\r\n */\nfunction renderGhosts(ctx, ghosts) {\n  const cellSize = GAME_CONFIG.CELL_SIZE;\n  ghosts.forEach(ghost => {\n    const centerX = ghost.position.x + cellSize / 2;\n    const centerY = ghost.position.y + cellSize / 2;\n    const radius = cellSize / 2 - 2;\n    let fillColor = ghost.color;\n    let shadowColor = ghost.color;\n\n    // Handle different ghost states\n    if (ghost.state === GhostState.FRIGHTENED) {\n      fillColor = ghost.isFlashing ? '#ffffff' : '#0066ff';\n      shadowColor = '#0066ff';\n    } else if (ghost.state === GhostState.EATEN) {\n      fillColor = 'transparent';\n      shadowColor = 'transparent';\n    }\n    if (ghost.state !== GhostState.EATEN) {\n      // Draw ghost body\n      ctx.fillStyle = fillColor;\n      ctx.shadowColor = shadowColor;\n      ctx.shadowBlur = 8;\n\n      // Ghost body (rounded top, wavy bottom)\n      ctx.beginPath();\n      ctx.arc(centerX, centerY - 2, radius, Math.PI, 0);\n\n      // Wavy bottom\n      const waveOffset = Math.sin(Date.now() / 200 + ghost.position.x) * 2;\n      ctx.lineTo(centerX + radius, centerY + radius - 2);\n      ctx.lineTo(centerX + radius - 4, centerY + radius - 2 + waveOffset);\n      ctx.lineTo(centerX + 4, centerY + radius - 2 - waveOffset);\n      ctx.lineTo(centerX, centerY + radius - 2 + waveOffset);\n      ctx.lineTo(centerX - 4, centerY + radius - 2 - waveOffset);\n      ctx.lineTo(centerX - radius + 4, centerY + radius - 2 + waveOffset);\n      ctx.lineTo(centerX - radius, centerY + radius - 2);\n      ctx.closePath();\n      ctx.fill();\n      ctx.shadowBlur = 0;\n\n      // Draw eyes\n      ctx.fillStyle = '#ffffff';\n      ctx.beginPath();\n      ctx.arc(centerX - 6, centerY - 4, 3, 0, Math.PI * 2);\n      ctx.arc(centerX + 6, centerY - 4, 3, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Draw pupils based on direction\n      ctx.fillStyle = '#000000';\n      let pupilOffsetX = 0;\n      let pupilOffsetY = 0;\n      switch (ghost.direction) {\n        case Direction.LEFT:\n          pupilOffsetX = -1;\n          break;\n        case Direction.RIGHT:\n          pupilOffsetX = 1;\n          break;\n        case Direction.UP:\n          pupilOffsetY = -1;\n          break;\n        case Direction.DOWN:\n          pupilOffsetY = 1;\n          break;\n      }\n      ctx.beginPath();\n      ctx.arc(centerX - 6 + pupilOffsetX, centerY - 4 + pupilOffsetY, 1.5, 0, Math.PI * 2);\n      ctx.arc(centerX + 6 + pupilOffsetX, centerY - 4 + pupilOffsetY, 1.5, 0, Math.PI * 2);\n      ctx.fill();\n    } else {\n      // Draw eyes only for eaten ghosts\n      ctx.fillStyle = '#ffffff';\n      ctx.shadowColor = '#ffffff';\n      ctx.shadowBlur = 6;\n      ctx.beginPath();\n      ctx.arc(centerX - 6, centerY - 4, 4, 0, Math.PI * 2);\n      ctx.arc(centerX + 6, centerY - 4, 4, 0, Math.PI * 2);\n      ctx.fill();\n      ctx.shadowBlur = 0;\n      ctx.fillStyle = '#0066ff';\n      ctx.beginPath();\n      ctx.arc(centerX - 6, centerY - 4, 2, 0, Math.PI * 2);\n      ctx.arc(centerX + 6, centerY - 4, 2, 0, Math.PI * 2);\n      ctx.fill();\n    }\n  });\n}\n\n/**\r\n * Render fruit bonus items\r\n */\nfunction renderFruit(ctx, fruitPosition, level) {\n  if (!fruitPosition) return;\n  const cellSize = GAME_CONFIG.CELL_SIZE;\n  const centerX = fruitPosition.x * cellSize + cellSize / 2;\n  const centerY = fruitPosition.y * cellSize + cellSize / 2;\n\n  // Different fruit sprites based on level\n  const fruitColors = ['#ff0000', '#ffaa00', '#ff6600', '#aa00ff', '#00ff00', '#ff00aa', '#00aaff', '#ffff00'];\n  const color = fruitColors[Math.min(level - 1, 7)];\n  ctx.fillStyle = color;\n  ctx.shadowColor = color;\n  ctx.shadowBlur = 10;\n\n  // Simple fruit representation\n  ctx.beginPath();\n  ctx.arc(centerX, centerY, 8, 0, Math.PI * 2);\n  ctx.fill();\n\n  // Add sparkle effect\n  const sparkleOffset = Math.sin(Date.now() / 150) * 3;\n  ctx.fillStyle = '#ffffff';\n  ctx.shadowBlur = 15;\n  ctx.beginPath();\n  ctx.arc(centerX - 3 + sparkleOffset, centerY - 3, 1, 0, Math.PI * 2);\n  ctx.arc(centerX + 3 - sparkleOffset, centerY + 3, 1, 0, Math.PI * 2);\n  ctx.fill();\n  ctx.shadowBlur = 0;\n}\n\n/**\r\n * Render power pellet screen effect\r\n */\nfunction renderPowerPelletEffect(ctx) {\n  const canvas = ctx.canvas;\n  const gradient = ctx.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);\n  gradient.addColorStop(0, 'rgba(255, 255, 0, 0.1)');\n  gradient.addColorStop(1, 'rgba(255, 255, 0, 0)');\n  ctx.fillStyle = gradient;\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n}\nvar _c;\n$RefreshReg$(_c, \"GameRenderer\");","map":{"version":3,"names":["React","useRef","useEffect","CellType","Direction","GhostState","GAME_CONFIG","jsxDEV","_jsxDEV","GameRenderer","gameState","className","_s","canvasRef","animationFrameRef","canvas","current","ctx","getContext","width","MAZE_WIDTH","CELL_SIZE","height","MAZE_HEIGHT","render","fillStyle","fillRect","renderMaze","maze","showAIFeatures","renderDangerHeatmap","dangerMap","renderGhostPredictions","ghosts","renderSafeZones","renderPacMan","pacman","renderGhosts","renderFruit","fruitPosition","level","powerPelletActive","renderPowerPelletEffect","requestAnimationFrame","cancelAnimationFrame","ref","screenShake","vhsGlitch","style","imageRendering","filter","fileName","_jsxFileName","lineNumber","columnNumber","_c","cellSize","forEach","row","y","cell","x","pixelX","pixelY","WALL","shadowColor","shadowBlur","PELLET","beginPath","arc","Math","PI","fill","POWER_PELLET","pulseSize","sin","Date","now","GHOST_HOUSE","length","danger","red","floor","green","ghost","pathPrediction","strokeStyle","color","lineWidth","globalAlpha","setLineDash","moveTo","position","pos","index","alpha","max","lineTo","stroke","centerX","centerY","radius","isDead","deathFrame","deathRadius","startAngle","endAngle","mouthOpen","mouthSize","direction","RIGHT","LEFT","UP","DOWN","NONE","closePath","fillColor","state","FRIGHTENED","isFlashing","EATEN","waveOffset","pupilOffsetX","pupilOffsetY","fruitColors","min","sparkleOffset","gradient","createRadialGradient","addColorStop","$RefreshReg$"],"sources":["C:/Users/VEDANT/Desktop/Src/Pacman/src/components/GameRenderer.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport { GameState, CellType, Direction, GhostState } from '../types/game.ts';\r\nimport { GAME_CONFIG } from '../config/gameConfig.ts';\r\n\r\ninterface GameRendererProps {\r\n  gameState: GameState;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Canvas-based game renderer with retro CRT effects and AI visualizations\r\n */\r\nexport const GameRenderer: React.FC<GameRendererProps> = ({ gameState, className }) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const animationFrameRef = useRef<number>();\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    // Set canvas size\r\n    canvas.width = GAME_CONFIG.MAZE_WIDTH * GAME_CONFIG.CELL_SIZE;\r\n    canvas.height = GAME_CONFIG.MAZE_HEIGHT * GAME_CONFIG.CELL_SIZE;\r\n\r\n    const render = () => {\r\n      // Clear canvas\r\n      ctx.fillStyle = '#000000';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Render maze\r\n      renderMaze(ctx, gameState.maze);\r\n\r\n      // Render AI features if enabled\r\n      if (gameState.showAIFeatures) {\r\n        renderDangerHeatmap(ctx, gameState.dangerMap);\r\n        renderGhostPredictions(ctx, gameState.ghosts);\r\n        renderSafeZones(ctx, gameState);\r\n      }\r\n\r\n      // Render game entities\r\n      renderPacMan(ctx, gameState.pacman);\r\n      renderGhosts(ctx, gameState.ghosts);\r\n      renderFruit(ctx, gameState.fruitPosition, gameState.level);\r\n\r\n      // Render effects\r\n      if (gameState.powerPelletActive) {\r\n        renderPowerPelletEffect(ctx);\r\n      }\r\n\r\n      animationFrameRef.current = requestAnimationFrame(render);\r\n    };\r\n\r\n    render();\r\n\r\n    return () => {\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n    };\r\n  }, [gameState]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className={`${className} ${gameState.screenShake ? 'screen-shake' : ''} ${gameState.vhsGlitch ? 'vhs-glitch' : ''}`}\r\n      style={{\r\n        imageRendering: 'pixelated',\r\n        filter: 'drop-shadow(0 0 10px rgba(0, 255, 255, 0.3))'\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\n/**\r\n * Render the maze walls, pellets, and power pellets\r\n */\r\nfunction renderMaze(ctx: CanvasRenderingContext2D, maze: CellType[][]): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  maze.forEach((row, y) => {\r\n    row.forEach((cell, x) => {\r\n      const pixelX = x * cellSize;\r\n      const pixelY = y * cellSize;\r\n\r\n      switch (cell) {\r\n        case CellType.WALL:\r\n          // Neon blue walls with glow effect\r\n          ctx.fillStyle = '#0066ff';\r\n          ctx.shadowColor = '#00aaff';\r\n          ctx.shadowBlur = 8;\r\n          ctx.fillRect(pixelX + 2, pixelY + 2, cellSize - 4, cellSize - 4);\r\n          ctx.shadowBlur = 0;\r\n          break;\r\n\r\n        case CellType.PELLET:\r\n          // Small yellow pellets\r\n          ctx.fillStyle = '#ffff00';\r\n          ctx.shadowColor = '#ffff00';\r\n          ctx.shadowBlur = 4;\r\n          ctx.beginPath();\r\n          ctx.arc(pixelX + cellSize / 2, pixelY + cellSize / 2, 2, 0, Math.PI * 2);\r\n          ctx.fill();\r\n          ctx.shadowBlur = 0;\r\n          break;\r\n\r\n        case CellType.POWER_PELLET:\r\n          // Large pulsing power pellets\r\n          const pulseSize = 6 + Math.sin(Date.now() / 200) * 2;\r\n          ctx.fillStyle = '#ffff00';\r\n          ctx.shadowColor = '#ffff00';\r\n          ctx.shadowBlur = 12;\r\n          ctx.beginPath();\r\n          ctx.arc(pixelX + cellSize / 2, pixelY + cellSize / 2, pulseSize, 0, Math.PI * 2);\r\n          ctx.fill();\r\n          ctx.shadowBlur = 0;\r\n          break;\r\n\r\n        case CellType.GHOST_HOUSE:\r\n          // Ghost house area\r\n          ctx.fillStyle = '#333333';\r\n          ctx.fillRect(pixelX, pixelY, cellSize, cellSize);\r\n          break;\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Render danger heatmap overlay\r\n */\r\nfunction renderDangerHeatmap(ctx: CanvasRenderingContext2D, dangerMap: number[][]): void {\r\n  if (!dangerMap.length) return;\r\n\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  dangerMap.forEach((row, y) => {\r\n    row.forEach((danger, x) => {\r\n      if (danger <= 0) return;\r\n\r\n      const pixelX = x * cellSize;\r\n      const pixelY = y * cellSize;\r\n      \r\n      // Color from green (safe) to red (dangerous)\r\n      const red = Math.floor(255 * danger);\r\n      const green = Math.floor(255 * (1 - danger));\r\n      \r\n      ctx.fillStyle = `rgba(${red}, ${green}, 0, ${0.3 * danger})`;\r\n      ctx.fillRect(pixelX, pixelY, cellSize, cellSize);\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Render ghost movement predictions\r\n */\r\nfunction renderGhostPredictions(ctx: CanvasRenderingContext2D, ghosts: any[]): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  ghosts.forEach(ghost => {\r\n    if (!ghost.pathPrediction || ghost.pathPrediction.length === 0) return;\r\n\r\n    ctx.strokeStyle = ghost.color;\r\n    ctx.lineWidth = 3;\r\n    ctx.globalAlpha = 0.6;\r\n    ctx.setLineDash([5, 5]);\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(\r\n      ghost.position.x * cellSize + cellSize / 2,\r\n      ghost.position.y * cellSize + cellSize / 2\r\n    );\r\n\r\n    ghost.pathPrediction.forEach((pos: any, index: number) => {\r\n      const alpha = 0.8 - (index * 0.15);\r\n      ctx.globalAlpha = Math.max(alpha, 0.2);\r\n      \r\n      ctx.lineTo(\r\n        pos.x * cellSize + cellSize / 2,\r\n        pos.y * cellSize + cellSize / 2\r\n      );\r\n    });\r\n\r\n    ctx.stroke();\r\n    ctx.setLineDash([]);\r\n    ctx.globalAlpha = 1;\r\n  });\r\n}\r\n\r\n/**\r\n * Render safe zones and escape routes\r\n */\r\nfunction renderSafeZones(ctx: CanvasRenderingContext2D, gameState: GameState): void {\r\n  // This would render safe zones if we had them in the game state\r\n  // For now, we'll skip this to keep the implementation focused\r\n}\r\n\r\n/**\r\n * Render Pac-Man with animated mouth and directional sprites\r\n */\r\nfunction renderPacMan(ctx: CanvasRenderingContext2D, pacman: any): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n  const centerX = pacman.position.x + cellSize / 2;\r\n  const centerY = pacman.position.y + cellSize / 2;\r\n  const radius = cellSize / 2 - 2;\r\n\r\n  if (pacman.isDead) {\r\n    // Death animation - spinning circle collapse\r\n    const deathFrame = Math.floor(Date.now() / 100) % 8;\r\n    const deathRadius = radius * (1 - deathFrame / 8);\r\n    \r\n    ctx.fillStyle = '#ffff00';\r\n    ctx.shadowColor = '#ffff00';\r\n    ctx.shadowBlur = 8;\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, Math.max(deathRadius, 0), 0, Math.PI * 2);\r\n    ctx.fill();\r\n    ctx.shadowBlur = 0;\r\n    return;\r\n  }\r\n\r\n  // Calculate mouth angle based on direction\r\n  let startAngle = 0;\r\n  let endAngle = Math.PI * 2;\r\n\r\n  if (pacman.mouthOpen) {\r\n    const mouthSize = Math.PI / 3;\r\n    switch (pacman.direction) {\r\n      case Direction.RIGHT:\r\n        startAngle = mouthSize / 2;\r\n        endAngle = Math.PI * 2 - mouthSize / 2;\r\n        break;\r\n      case Direction.LEFT:\r\n        startAngle = Math.PI - mouthSize / 2;\r\n        endAngle = Math.PI + mouthSize / 2;\r\n        break;\r\n      case Direction.UP:\r\n        startAngle = Math.PI * 1.5 - mouthSize / 2;\r\n        endAngle = Math.PI * 1.5 + mouthSize / 2;\r\n        break;\r\n      case Direction.DOWN:\r\n        startAngle = Math.PI * 0.5 - mouthSize / 2;\r\n        endAngle = Math.PI * 0.5 + mouthSize / 2;\r\n        break;\r\n    }\r\n  }\r\n\r\n  // Draw Pac-Man with glow effect\r\n  ctx.fillStyle = '#ffff00';\r\n  ctx.shadowColor = '#ffff00';\r\n  ctx.shadowBlur = 12;\r\n  \r\n  ctx.beginPath();\r\n  ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n  if (pacman.mouthOpen && pacman.direction !== Direction.NONE) {\r\n    ctx.lineTo(centerX, centerY);\r\n  }\r\n  ctx.closePath();\r\n  ctx.fill();\r\n  ctx.shadowBlur = 0;\r\n\r\n  // Add eye\r\n  if (!pacman.mouthOpen || pacman.direction === Direction.NONE) {\r\n    ctx.fillStyle = '#000000';\r\n    ctx.beginPath();\r\n    ctx.arc(centerX - 3, centerY - 5, 2, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n}\r\n\r\n/**\r\n * Render ghosts with animated sprites and state-based colors\r\n */\r\nfunction renderGhosts(ctx: CanvasRenderingContext2D, ghosts: any[]): void {\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n\r\n  ghosts.forEach(ghost => {\r\n    const centerX = ghost.position.x + cellSize / 2;\r\n    const centerY = ghost.position.y + cellSize / 2;\r\n    const radius = cellSize / 2 - 2;\r\n\r\n    let fillColor = ghost.color;\r\n    let shadowColor = ghost.color;\r\n\r\n    // Handle different ghost states\r\n    if (ghost.state === GhostState.FRIGHTENED) {\r\n      fillColor = ghost.isFlashing ? '#ffffff' : '#0066ff';\r\n      shadowColor = '#0066ff';\r\n    } else if (ghost.state === GhostState.EATEN) {\r\n      fillColor = 'transparent';\r\n      shadowColor = 'transparent';\r\n    }\r\n\r\n    if (ghost.state !== GhostState.EATEN) {\r\n      // Draw ghost body\r\n      ctx.fillStyle = fillColor;\r\n      ctx.shadowColor = shadowColor;\r\n      ctx.shadowBlur = 8;\r\n\r\n      // Ghost body (rounded top, wavy bottom)\r\n      ctx.beginPath();\r\n      ctx.arc(centerX, centerY - 2, radius, Math.PI, 0);\r\n      \r\n      // Wavy bottom\r\n      const waveOffset = Math.sin(Date.now() / 200 + ghost.position.x) * 2;\r\n      ctx.lineTo(centerX + radius, centerY + radius - 2);\r\n      ctx.lineTo(centerX + radius - 4, centerY + radius - 2 + waveOffset);\r\n      ctx.lineTo(centerX + 4, centerY + radius - 2 - waveOffset);\r\n      ctx.lineTo(centerX, centerY + radius - 2 + waveOffset);\r\n      ctx.lineTo(centerX - 4, centerY + radius - 2 - waveOffset);\r\n      ctx.lineTo(centerX - radius + 4, centerY + radius - 2 + waveOffset);\r\n      ctx.lineTo(centerX - radius, centerY + radius - 2);\r\n      \r\n      ctx.closePath();\r\n      ctx.fill();\r\n      ctx.shadowBlur = 0;\r\n\r\n      // Draw eyes\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6, centerY - 4, 3, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6, centerY - 4, 3, 0, Math.PI * 2);\r\n      ctx.fill();\r\n\r\n      // Draw pupils based on direction\r\n      ctx.fillStyle = '#000000';\r\n      let pupilOffsetX = 0;\r\n      let pupilOffsetY = 0;\r\n\r\n      switch (ghost.direction) {\r\n        case Direction.LEFT:\r\n          pupilOffsetX = -1;\r\n          break;\r\n        case Direction.RIGHT:\r\n          pupilOffsetX = 1;\r\n          break;\r\n        case Direction.UP:\r\n          pupilOffsetY = -1;\r\n          break;\r\n        case Direction.DOWN:\r\n          pupilOffsetY = 1;\r\n          break;\r\n      }\r\n\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6 + pupilOffsetX, centerY - 4 + pupilOffsetY, 1.5, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6 + pupilOffsetX, centerY - 4 + pupilOffsetY, 1.5, 0, Math.PI * 2);\r\n      ctx.fill();\r\n    } else {\r\n      // Draw eyes only for eaten ghosts\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.shadowColor = '#ffffff';\r\n      ctx.shadowBlur = 6;\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6, centerY - 4, 4, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6, centerY - 4, 4, 0, Math.PI * 2);\r\n      ctx.fill();\r\n      ctx.shadowBlur = 0;\r\n\r\n      ctx.fillStyle = '#0066ff';\r\n      ctx.beginPath();\r\n      ctx.arc(centerX - 6, centerY - 4, 2, 0, Math.PI * 2);\r\n      ctx.arc(centerX + 6, centerY - 4, 2, 0, Math.PI * 2);\r\n      ctx.fill();\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Render fruit bonus items\r\n */\r\nfunction renderFruit(ctx: CanvasRenderingContext2D, fruitPosition: any, level: number): void {\r\n  if (!fruitPosition) return;\r\n\r\n  const cellSize = GAME_CONFIG.CELL_SIZE;\r\n  const centerX = fruitPosition.x * cellSize + cellSize / 2;\r\n  const centerY = fruitPosition.y * cellSize + cellSize / 2;\r\n\r\n  // Different fruit sprites based on level\r\n  const fruitColors = ['#ff0000', '#ffaa00', '#ff6600', '#aa00ff', '#00ff00', '#ff00aa', '#00aaff', '#ffff00'];\r\n  const color = fruitColors[Math.min(level - 1, 7)];\r\n\r\n  ctx.fillStyle = color;\r\n  ctx.shadowColor = color;\r\n  ctx.shadowBlur = 10;\r\n\r\n  // Simple fruit representation\r\n  ctx.beginPath();\r\n  ctx.arc(centerX, centerY, 8, 0, Math.PI * 2);\r\n  ctx.fill();\r\n\r\n  // Add sparkle effect\r\n  const sparkleOffset = Math.sin(Date.now() / 150) * 3;\r\n  ctx.fillStyle = '#ffffff';\r\n  ctx.shadowBlur = 15;\r\n  ctx.beginPath();\r\n  ctx.arc(centerX - 3 + sparkleOffset, centerY - 3, 1, 0, Math.PI * 2);\r\n  ctx.arc(centerX + 3 - sparkleOffset, centerY + 3, 1, 0, Math.PI * 2);\r\n  ctx.fill();\r\n  ctx.shadowBlur = 0;\r\n}\r\n\r\n/**\r\n * Render power pellet screen effect\r\n */\r\nfunction renderPowerPelletEffect(ctx: CanvasRenderingContext2D): void {\r\n  const canvas = ctx.canvas;\r\n  const gradient = ctx.createRadialGradient(\r\n    canvas.width / 2, canvas.height / 2, 0,\r\n    canvas.width / 2, canvas.height / 2, canvas.width / 2\r\n  );\r\n  \r\n  gradient.addColorStop(0, 'rgba(255, 255, 0, 0.1)');\r\n  gradient.addColorStop(1, 'rgba(255, 255, 0, 0)');\r\n  \r\n  ctx.fillStyle = gradient;\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}