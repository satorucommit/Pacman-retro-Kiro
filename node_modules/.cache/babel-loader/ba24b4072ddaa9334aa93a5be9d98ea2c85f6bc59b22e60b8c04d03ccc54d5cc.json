{"ast":null,"code":"import _objectSpread from\"C:/Users/VEDANT/Desktop/Src/Pacman/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Direction,CellType,GhostState,GhostType}from'../types/game.ts';import{GAME_CONFIG,MAZE_LAYOUT,GHOST_CONFIG,PACMAN_START_POSITION}from'../config/gameConfig.ts';import{AIEngine}from'./AIEngine.ts';/**\r\n * Core game engine handling all game logic, physics, and state management\r\n */export class GameEngine{constructor(){this.aiEngine=void 0;this.gameState=void 0;this.lastUpdateTime=0;this.frameCount=0;this.aiEngine=new AIEngine();this.gameState=this.initializeGameState();}/**\r\n   * Initialize the game state with default values\r\n   */initializeGameState(){const maze=MAZE_LAYOUT.map(row=>[...row]);const pelletsRemaining=this.countPellets(maze);return{pacman:this.createPacMan(),ghosts:this.createGhosts(),maze,score:0,highScore:parseInt(localStorage.getItem('pacman-highscore')||'0'),lives:3,level:1,pelletsRemaining,powerPelletActive:false,powerPelletTimer:0,gameStatus:'READY',ghostEatenCount:0,fruitSpawned:false,fruitPosition:null,fruitScore:0,aiLearningLevel:0,showAIFeatures:true,dangerMap:[],playerPatterns:[],screenShake:false,vhsGlitch:false};}/**\r\n   * Create Pac-Man with initial state\r\n   */createPacMan(){return{position:_objectSpread({},PACMAN_START_POSITION),velocity:{dx:0,dy:0},direction:Direction.NONE,nextDirection:Direction.NONE,animationFrame:0,isDead:false,mouthOpen:true};}/**\r\n   * Create all four ghosts with their unique properties\r\n   */createGhosts(){return Object.entries(GHOST_CONFIG).map(_ref=>{let[type,config]=_ref;return{id:type,position:_objectSpread({},config.startPosition),velocity:{dx:0,dy:0},direction:Direction.UP,state:type==='BLINKY'?GhostState.CHASE:GhostState.IN_HOUSE,color:config.color,targetPosition:_objectSpread({},config.scatterTarget),scatterTarget:_objectSpread({},config.scatterTarget),houseTimer:type==='BLINKY'?0:60+Object.keys(GHOST_CONFIG).indexOf(type)*30,frightenedTimer:0,isFlashing:false,lastDirection:Direction.UP,pathPrediction:[]};});}/**\r\n   * Main game update loop - called at 60fps\r\n   */update(currentTime,inputDirection){const deltaTime=currentTime-this.lastUpdateTime;this.lastUpdateTime=currentTime;this.frameCount++;if(this.gameState.gameStatus!=='PLAYING'){return this.gameState;}// Update Pac-Man\nthis.updatePacMan(inputDirection);// Update ghosts\nthis.updateGhosts();// Check collisions\nthis.checkCollisions();// Update power pellet timer\nthis.updatePowerPelletTimer();// Update AI analysis\nthis.updateAIAnalysis();// Check win/lose conditions\nthis.checkGameConditions();// Update visual effects\nthis.updateVisualEffects();// Spawn fruit occasionally\nthis.updateFruitSpawning();return this.gameState;}/**\r\n   * Update Pac-Man position and animation\r\n   */updatePacMan(inputDirection){const pacman=this.gameState.pacman;// Handle direction changes\nif(inputDirection!==Direction.NONE){pacman.nextDirection=inputDirection;// Record movement for AI learning\nthis.aiEngine.recordPlayerMovement(inputDirection);}// Try to change direction if possible\nif(pacman.nextDirection!==pacman.direction){const nextPos=this.getNextPosition(pacman.position,pacman.nextDirection);if(this.isValidMove(nextPos)){pacman.direction=pacman.nextDirection;this.setVelocity(pacman,pacman.direction);}}// Move Pac-Man\nif(pacman.direction!==Direction.NONE){const nextPos={x:pacman.position.x+pacman.velocity.dx,y:pacman.position.y+pacman.velocity.dy};// Handle tunnel wraparound\nif(nextPos.x<0){nextPos.x=GAME_CONFIG.MAZE_WIDTH-1;}else if(nextPos.x>=GAME_CONFIG.MAZE_WIDTH){nextPos.x=0;}// Check if move is valid\nif(this.isValidMove(nextPos)){pacman.position=nextPos;}else{// Stop if hitting wall\npacman.direction=Direction.NONE;pacman.velocity={dx:0,dy:0};}}// Update animation\nif(this.frameCount%8===0){pacman.mouthOpen=!pacman.mouthOpen;pacman.animationFrame=(pacman.animationFrame+1)%4;}}/**\r\n   * Update all ghost positions and AI behavior\r\n   */updateGhosts(){this.gameState.ghosts.forEach(ghost=>{this.updateGhostState(ghost);this.updateGhostMovement(ghost);this.updateGhostAnimation(ghost);});}/**\r\n   * Update individual ghost state and target\r\n   */updateGhostState(ghost){// Handle house timer\nif(ghost.state===GhostState.IN_HOUSE&&ghost.houseTimer>0){ghost.houseTimer--;if(ghost.houseTimer<=0){ghost.state=GhostState.CHASE;}return;}// Handle frightened state\nif(ghost.state===GhostState.FRIGHTENED){ghost.frightenedTimer--;// Start flashing when timer is low\nif(ghost.frightenedTimer<=GAME_CONFIG.GHOST_FLASH_DURATION){ghost.isFlashing=Math.floor(ghost.frightenedTimer/10)%2===0;}if(ghost.frightenedTimer<=0){ghost.state=GhostState.CHASE;ghost.isFlashing=false;}return;}// Handle eaten state\nif(ghost.state===GhostState.EATEN){// Return to house\nconst housePos=GHOST_CONFIG[ghost.id].startPosition;if(ghost.position.x===housePos.x&&ghost.position.y===housePos.y){ghost.state=GhostState.CHASE;}ghost.targetPosition=housePos;return;}// Normal chase/scatter behavior with AI adaptation\nconst baseTarget=this.getGhostTarget(ghost);ghost.targetPosition=this.aiEngine.adaptGhostBehavior(ghost,this.gameState.pacman,this.gameState.ghosts);// Alternate between chase and scatter modes\nconst modeTime=Math.floor(this.frameCount/600);// Change every 10 seconds\nghost.state=modeTime%2===0?GhostState.CHASE:GhostState.SCATTER;}/**\r\n   * Update ghost movement using pathfinding\r\n   */updateGhostMovement(ghost){if(ghost.state===GhostState.IN_HOUSE){// Simple up-down movement in house\nif(this.frameCount%60<30){ghost.direction=Direction.UP;}else{ghost.direction=Direction.DOWN;}this.setGhostVelocity(ghost);return;}// Get possible directions (can't reverse unless frightened)\nconst possibleDirections=this.getPossibleDirections(ghost.position).filter(dir=>{if(ghost.state===GhostState.FRIGHTENED)return true;return this.getOppositeDirection(dir)!==ghost.lastDirection;});if(possibleDirections.length===0)return;// Choose direction based on target\nlet bestDirection=possibleDirections[0];let shortestDistance=Infinity;if(ghost.state===GhostState.FRIGHTENED){// Random movement when frightened\nbestDirection=possibleDirections[Math.floor(Math.random()*possibleDirections.length)];}else{// Move toward target\npossibleDirections.forEach(direction=>{const nextPos=this.getNextPosition(ghost.position,direction);const distance=this.manhattanDistance(nextPos,ghost.targetPosition);if(distance<shortestDistance){shortestDistance=distance;bestDirection=direction;}});}ghost.lastDirection=ghost.direction;ghost.direction=bestDirection;this.setGhostVelocity(ghost);// Move ghost\nconst nextPos={x:ghost.position.x+ghost.velocity.dx,y:ghost.position.y+ghost.velocity.dy};// Handle tunnel wraparound\nif(nextPos.x<0){nextPos.x=GAME_CONFIG.MAZE_WIDTH-1;}else if(nextPos.x>=GAME_CONFIG.MAZE_WIDTH){nextPos.x=0;}if(this.isValidMove(nextPos)){ghost.position=nextPos;}}/**\r\n   * Update ghost animation and visual effects\r\n   */updateGhostAnimation(ghost){// Update path prediction for AI visualization\nif(this.frameCount%30===0){// Update every half second\nconst predictions=this.aiEngine.predictGhostMovements([ghost],this.gameState.maze,this.gameState.pacman);ghost.pathPrediction=predictions[ghost.id]||[];}}/**\r\n   * Check collisions between Pac-Man and game elements\r\n   */checkCollisions(){const pacmanPos=this.gameState.pacman.position;const cellType=this.gameState.maze[pacmanPos.y][pacmanPos.x];// Collect pellets\nif(cellType===CellType.PELLET){this.gameState.maze[pacmanPos.y][pacmanPos.x]=CellType.EMPTY;this.gameState.score+=GAME_CONFIG.POINTS_PELLET;this.gameState.pelletsRemaining--;this.playSound('CHOMP');}// Collect power pellets\nif(cellType===CellType.POWER_PELLET){this.gameState.maze[pacmanPos.y][pacmanPos.x]=CellType.EMPTY;this.gameState.score+=GAME_CONFIG.POINTS_POWER_PELLET;this.gameState.pelletsRemaining--;this.activatePowerPellet();this.playSound('POWER_PELLET');}// Collect fruit\nif(this.gameState.fruitPosition&&pacmanPos.x===this.gameState.fruitPosition.x&&pacmanPos.y===this.gameState.fruitPosition.y){const fruitPoints=GAME_CONFIG.POINTS_FRUIT[Math.min(this.gameState.level-1,7)];this.gameState.score+=fruitPoints;this.gameState.fruitScore=fruitPoints;this.gameState.fruitPosition=null;this.gameState.fruitSpawned=false;this.playSound('FRUIT');}// Check ghost collisions\nthis.gameState.ghosts.forEach(ghost=>{if(this.manhattanDistance(pacmanPos,ghost.position)<1){if(ghost.state===GhostState.FRIGHTENED){// Eat ghost\nghost.state=GhostState.EATEN;const points=GAME_CONFIG.POINTS_GHOST_BASE*Math.pow(2,this.gameState.ghostEatenCount);this.gameState.score+=points;this.gameState.ghostEatenCount++;this.gameState.screenShake=true;this.playSound('GHOST_EATEN');}else if(ghost.state!==GhostState.EATEN){// Pac-Man dies\nthis.gameState.pacman.isDead=true;this.gameState.lives--;this.gameState.screenShake=true;this.playSound('DEATH');if(this.gameState.lives<=0){this.gameState.gameStatus='GAME_OVER';}else{// Reset positions\nsetTimeout(()=>this.resetPositions(),2000);}}}});}/**\r\n   * Activate power pellet effect\r\n   */activatePowerPellet(){this.gameState.powerPelletActive=true;this.gameState.powerPelletTimer=GAME_CONFIG.POWER_PELLET_DURATION;this.gameState.ghostEatenCount=0;// Make ghosts frightened\nthis.gameState.ghosts.forEach(ghost=>{if(ghost.state!==GhostState.EATEN&&ghost.state!==GhostState.IN_HOUSE){ghost.state=GhostState.FRIGHTENED;ghost.frightenedTimer=GAME_CONFIG.POWER_PELLET_DURATION;ghost.isFlashing=false;// Reverse direction\nghost.direction=this.getOppositeDirection(ghost.direction);}});}/**\r\n   * Update power pellet timer\r\n   */updatePowerPelletTimer(){if(this.gameState.powerPelletActive){this.gameState.powerPelletTimer--;if(this.gameState.powerPelletTimer<=0){this.gameState.powerPelletActive=false;}}}/**\r\n   * Update AI analysis and danger map\r\n   */updateAIAnalysis(){if(this.frameCount%10===0){// Update every 6th of a second\nconst analysis=this.aiEngine.analyzeGameState(this.gameState.pacman,this.gameState.ghosts,this.gameState.maze);this.gameState.dangerMap=this.aiEngine.generateDangerHeatmap(this.gameState.ghosts,this.gameState.maze);this.gameState.aiLearningLevel=this.aiEngine.getLearningLevel();this.gameState.playerPatterns=this.aiEngine.getPlayerPatterns();}}/**\r\n   * Check win/lose conditions\r\n   */checkGameConditions(){// Check if all pellets collected\nif(this.gameState.pelletsRemaining<=0){this.gameState.gameStatus='LEVEL_COMPLETE';this.gameState.level++;// Reset maze and positions for next level\nsetTimeout(()=>{this.gameState.maze=MAZE_LAYOUT.map(row=>[...row]);this.gameState.pelletsRemaining=this.countPellets(this.gameState.maze);this.resetPositions();this.gameState.gameStatus='READY';},2000);}// Update high score\nif(this.gameState.score>this.gameState.highScore){this.gameState.highScore=this.gameState.score;localStorage.setItem('pacman-highscore',this.gameState.score.toString());}}/**\r\n   * Update visual effects\r\n   */updateVisualEffects(){// Reset screen shake\nif(this.gameState.screenShake){setTimeout(()=>{this.gameState.screenShake=false;},200);}// Random VHS glitch effect\nif(Math.random()<0.001){this.gameState.vhsGlitch=true;setTimeout(()=>{this.gameState.vhsGlitch=false;},100);}}/**\r\n   * Update fruit spawning logic\r\n   */updateFruitSpawning(){if(!this.gameState.fruitSpawned&&this.gameState.pelletsRemaining<this.countPellets(MAZE_LAYOUT)*0.7){// Spawn fruit when 70% of pellets are eaten\nthis.gameState.fruitSpawned=true;this.gameState.fruitPosition={x:9,y:15};// Center of maze\n// Remove fruit after 10 seconds\nsetTimeout(()=>{this.gameState.fruitPosition=null;this.gameState.fruitSpawned=false;},10000);}}// Helper methods\ngetGhostTarget(ghost){const pacman=this.gameState.pacman;switch(ghost.id){case GhostType.BLINKY:return pacman.position;case GhostType.PINKY:return this.getPositionAhead(pacman.position,pacman.direction,4);case GhostType.INKY:const blinky=this.gameState.ghosts.find(g=>g.id===GhostType.BLINKY);if(blinky){const ahead=this.getPositionAhead(pacman.position,pacman.direction,2);return{x:ahead.x+(ahead.x-blinky.position.x),y:ahead.y+(ahead.y-blinky.position.y)};}return pacman.position;case GhostType.CLYDE:const distance=this.manhattanDistance(ghost.position,pacman.position);return distance>8?pacman.position:ghost.scatterTarget;default:return pacman.position;}}getNextPosition(position,direction){switch(direction){case Direction.UP:return{x:position.x,y:position.y-1};case Direction.DOWN:return{x:position.x,y:position.y+1};case Direction.LEFT:return{x:position.x-1,y:position.y};case Direction.RIGHT:return{x:position.x+1,y:position.y};default:return position;}}getPositionAhead(position,direction,distance){switch(direction){case Direction.UP:return{x:position.x,y:Math.max(0,position.y-distance)};case Direction.DOWN:return{x:position.x,y:Math.min(GAME_CONFIG.MAZE_HEIGHT-1,position.y+distance)};case Direction.LEFT:return{x:Math.max(0,position.x-distance),y:position.y};case Direction.RIGHT:return{x:Math.min(GAME_CONFIG.MAZE_WIDTH-1,position.x+distance),y:position.y};default:return position;}}getOppositeDirection(direction){switch(direction){case Direction.UP:return Direction.DOWN;case Direction.DOWN:return Direction.UP;case Direction.LEFT:return Direction.RIGHT;case Direction.RIGHT:return Direction.LEFT;default:return Direction.NONE;}}getPossibleDirections(position){const directions=[];if(this.isValidMove(this.getNextPosition(position,Direction.UP))){directions.push(Direction.UP);}if(this.isValidMove(this.getNextPosition(position,Direction.DOWN))){directions.push(Direction.DOWN);}if(this.isValidMove(this.getNextPosition(position,Direction.LEFT))){directions.push(Direction.LEFT);}if(this.isValidMove(this.getNextPosition(position,Direction.RIGHT))){directions.push(Direction.RIGHT);}return directions;}isValidMove(position){if(position.y<0||position.y>=GAME_CONFIG.MAZE_HEIGHT)return false;if(position.x<0||position.x>=GAME_CONFIG.MAZE_WIDTH)return false;const cellType=this.gameState.maze[position.y][position.x];return cellType!==CellType.WALL;}setVelocity(entity,direction){const speed=GAME_CONFIG.PACMAN_SPEED;switch(direction){case Direction.UP:entity.velocity={dx:0,dy:-speed};break;case Direction.DOWN:entity.velocity={dx:0,dy:speed};break;case Direction.LEFT:entity.velocity={dx:-speed,dy:0};break;case Direction.RIGHT:entity.velocity={dx:speed,dy:0};break;default:entity.velocity={dx:0,dy:0};}}setGhostVelocity(ghost){let speed=GAME_CONFIG.GHOST_SPEED;if(ghost.state===GhostState.FRIGHTENED){speed=GAME_CONFIG.FRIGHTENED_SPEED;}else if(ghost.state===GhostState.EATEN){speed=GAME_CONFIG.GHOST_SPEED*1.5;// Faster when returning to house\n}switch(ghost.direction){case Direction.UP:ghost.velocity={dx:0,dy:-speed};break;case Direction.DOWN:ghost.velocity={dx:0,dy:speed};break;case Direction.LEFT:ghost.velocity={dx:-speed,dy:0};break;case Direction.RIGHT:ghost.velocity={dx:speed,dy:0};break;default:ghost.velocity={dx:0,dy:0};}}manhattanDistance(pos1,pos2){return Math.abs(pos1.x-pos2.x)+Math.abs(pos1.y-pos2.y);}countPellets(maze){let count=0;maze.forEach(row=>{row.forEach(cell=>{if(cell===CellType.PELLET||cell===CellType.POWER_PELLET){count++;}});});return count;}resetPositions(){this.gameState.pacman.position=_objectSpread({},PACMAN_START_POSITION);this.gameState.pacman.direction=Direction.NONE;this.gameState.pacman.velocity={dx:0,dy:0};this.gameState.pacman.isDead=false;this.gameState.ghosts.forEach(ghost=>{ghost.position=_objectSpread({},GHOST_CONFIG[ghost.id].startPosition);ghost.direction=Direction.UP;ghost.velocity={dx:0,dy:0};ghost.state=ghost.id===GhostType.BLINKY?GhostState.CHASE:GhostState.IN_HOUSE;ghost.houseTimer=ghost.id===GhostType.BLINKY?0:60;});this.gameState.powerPelletActive=false;this.gameState.powerPelletTimer=0;this.gameState.gameStatus='READY';}playSound(soundName){// Sound implementation would go here\n// For now, just log the sound that would be played\nconsole.log(\"Playing sound: \".concat(soundName));}// Public methods for external access\ngetGameState(){return this.gameState;}startGame(){this.gameState.gameStatus='PLAYING';}pauseGame(){this.gameState.gameStatus='PAUSED';}resumeGame(){this.gameState.gameStatus='PLAYING';}restartGame(){this.gameState=this.initializeGameState();}toggleAIFeatures(){this.gameState.showAIFeatures=!this.gameState.showAIFeatures;}}","map":{"version":3,"names":["Direction","CellType","GhostState","GhostType","GAME_CONFIG","MAZE_LAYOUT","GHOST_CONFIG","PACMAN_START_POSITION","AIEngine","GameEngine","constructor","aiEngine","gameState","lastUpdateTime","frameCount","initializeGameState","maze","map","row","pelletsRemaining","countPellets","pacman","createPacMan","ghosts","createGhosts","score","highScore","parseInt","localStorage","getItem","lives","level","powerPelletActive","powerPelletTimer","gameStatus","ghostEatenCount","fruitSpawned","fruitPosition","fruitScore","aiLearningLevel","showAIFeatures","dangerMap","playerPatterns","screenShake","vhsGlitch","position","_objectSpread","velocity","dx","dy","direction","NONE","nextDirection","animationFrame","isDead","mouthOpen","Object","entries","_ref","type","config","id","startPosition","UP","state","CHASE","IN_HOUSE","color","targetPosition","scatterTarget","houseTimer","keys","indexOf","frightenedTimer","isFlashing","lastDirection","pathPrediction","update","currentTime","inputDirection","deltaTime","updatePacMan","updateGhosts","checkCollisions","updatePowerPelletTimer","updateAIAnalysis","checkGameConditions","updateVisualEffects","updateFruitSpawning","recordPlayerMovement","nextPos","getNextPosition","isValidMove","setVelocity","x","y","MAZE_WIDTH","forEach","ghost","updateGhostState","updateGhostMovement","updateGhostAnimation","FRIGHTENED","GHOST_FLASH_DURATION","Math","floor","EATEN","housePos","baseTarget","getGhostTarget","adaptGhostBehavior","modeTime","SCATTER","DOWN","setGhostVelocity","possibleDirections","getPossibleDirections","filter","dir","getOppositeDirection","length","bestDirection","shortestDistance","Infinity","random","distance","manhattanDistance","predictions","predictGhostMovements","pacmanPos","cellType","PELLET","EMPTY","POINTS_PELLET","playSound","POWER_PELLET","POINTS_POWER_PELLET","activatePowerPellet","fruitPoints","POINTS_FRUIT","min","points","POINTS_GHOST_BASE","pow","setTimeout","resetPositions","POWER_PELLET_DURATION","analysis","analyzeGameState","generateDangerHeatmap","getLearningLevel","getPlayerPatterns","setItem","toString","BLINKY","PINKY","getPositionAhead","INKY","blinky","find","g","ahead","CLYDE","LEFT","RIGHT","max","MAZE_HEIGHT","directions","push","WALL","entity","speed","PACMAN_SPEED","GHOST_SPEED","FRIGHTENED_SPEED","pos1","pos2","abs","count","cell","soundName","console","log","concat","getGameState","startGame","pauseGame","resumeGame","restartGame","toggleAIFeatures"],"sources":["C:/Users/VEDANT/Desktop/Src/Pacman/src/engine/GameEngine.ts"],"sourcesContent":["import {\r\n  GameState,\r\n  PacMan,\r\n  Ghost,\r\n  Position,\r\n  Direction,\r\n  CellType,\r\n  GhostState,\r\n  GhostType\r\n} from '../types/game.ts';\r\nimport {\r\n  GAME_CONFIG,\r\n  MAZE_LAYOUT,\r\n  GHOST_CONFIG,\r\n  PACMAN_START_POSITION\r\n} from '../config/gameConfig.ts';\r\nimport { AIEngine } from './AIEngine.ts';\r\n\r\n/**\r\n * Core game engine handling all game logic, physics, and state management\r\n */\r\nexport class GameEngine {\r\n  private aiEngine: AIEngine;\r\n  private gameState: GameState;\r\n  private lastUpdateTime: number = 0;\r\n  private frameCount: number = 0;\r\n\r\n  constructor() {\r\n    this.aiEngine = new AIEngine();\r\n    this.gameState = this.initializeGameState();\r\n  }\r\n\r\n  /**\r\n   * Initialize the game state with default values\r\n   */\r\n  private initializeGameState(): GameState {\r\n    const maze = MAZE_LAYOUT.map(row => [...row]);\r\n    const pelletsRemaining = this.countPellets(maze);\r\n\r\n    return {\r\n      pacman: this.createPacMan(),\r\n      ghosts: this.createGhosts(),\r\n      maze,\r\n      score: 0,\r\n      highScore: parseInt(localStorage.getItem('pacman-highscore') || '0'),\r\n      lives: 3,\r\n      level: 1,\r\n      pelletsRemaining,\r\n      powerPelletActive: false,\r\n      powerPelletTimer: 0,\r\n      gameStatus: 'READY',\r\n      ghostEatenCount: 0,\r\n      fruitSpawned: false,\r\n      fruitPosition: null,\r\n      fruitScore: 0,\r\n      aiLearningLevel: 0,\r\n      showAIFeatures: true,\r\n      dangerMap: [],\r\n      playerPatterns: [],\r\n      screenShake: false,\r\n      vhsGlitch: false\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create Pac-Man with initial state\r\n   */\r\n  private createPacMan(): PacMan {\r\n    return {\r\n      position: { ...PACMAN_START_POSITION },\r\n      velocity: { dx: 0, dy: 0 },\r\n      direction: Direction.NONE,\r\n      nextDirection: Direction.NONE,\r\n      animationFrame: 0,\r\n      isDead: false,\r\n      mouthOpen: true\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create all four ghosts with their unique properties\r\n   */\r\n  private createGhosts(): Ghost[] {\r\n    return Object.entries(GHOST_CONFIG).map(([type, config]) => ({\r\n      id: type as GhostType,\r\n      position: { ...config.startPosition },\r\n      velocity: { dx: 0, dy: 0 },\r\n      direction: Direction.UP,\r\n      state: type === 'BLINKY' ? GhostState.CHASE : GhostState.IN_HOUSE,\r\n      color: config.color,\r\n      targetPosition: { ...config.scatterTarget },\r\n      scatterTarget: { ...config.scatterTarget },\r\n      houseTimer: type === 'BLINKY' ? 0 : 60 + (Object.keys(GHOST_CONFIG).indexOf(type) * 30),\r\n      frightenedTimer: 0,\r\n      isFlashing: false,\r\n      lastDirection: Direction.UP,\r\n      pathPrediction: []\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Main game update loop - called at 60fps\r\n   */\r\n  update(currentTime: number, inputDirection: Direction): GameState {\r\n    const deltaTime = currentTime - this.lastUpdateTime;\r\n    this.lastUpdateTime = currentTime;\r\n    this.frameCount++;\r\n\r\n    if (this.gameState.gameStatus !== 'PLAYING') {\r\n      return this.gameState;\r\n    }\r\n\r\n    // Update Pac-Man\r\n    this.updatePacMan(inputDirection);\r\n\r\n    // Update ghosts\r\n    this.updateGhosts();\r\n\r\n    // Check collisions\r\n    this.checkCollisions();\r\n\r\n    // Update power pellet timer\r\n    this.updatePowerPelletTimer();\r\n\r\n    // Update AI analysis\r\n    this.updateAIAnalysis();\r\n\r\n    // Check win/lose conditions\r\n    this.checkGameConditions();\r\n\r\n    // Update visual effects\r\n    this.updateVisualEffects();\r\n\r\n    // Spawn fruit occasionally\r\n    this.updateFruitSpawning();\r\n\r\n    return this.gameState;\r\n  }\r\n\r\n  /**\r\n   * Update Pac-Man position and animation\r\n   */\r\n  private updatePacMan(inputDirection: Direction): void {\r\n    const pacman = this.gameState.pacman;\r\n\r\n    // Handle direction changes\r\n    if (inputDirection !== Direction.NONE) {\r\n      pacman.nextDirection = inputDirection;\r\n      \r\n      // Record movement for AI learning\r\n      this.aiEngine.recordPlayerMovement(inputDirection);\r\n    }\r\n\r\n    // Try to change direction if possible\r\n    if (pacman.nextDirection !== pacman.direction) {\r\n      const nextPos = this.getNextPosition(pacman.position, pacman.nextDirection);\r\n      if (this.isValidMove(nextPos)) {\r\n        pacman.direction = pacman.nextDirection;\r\n        this.setVelocity(pacman, pacman.direction);\r\n      }\r\n    }\r\n\r\n    // Move Pac-Man\r\n    if (pacman.direction !== Direction.NONE) {\r\n      const nextPos = {\r\n        x: pacman.position.x + pacman.velocity.dx,\r\n        y: pacman.position.y + pacman.velocity.dy\r\n      };\r\n\r\n      // Handle tunnel wraparound\r\n      if (nextPos.x < 0) {\r\n        nextPos.x = GAME_CONFIG.MAZE_WIDTH - 1;\r\n      } else if (nextPos.x >= GAME_CONFIG.MAZE_WIDTH) {\r\n        nextPos.x = 0;\r\n      }\r\n\r\n      // Check if move is valid\r\n      if (this.isValidMove(nextPos)) {\r\n        pacman.position = nextPos;\r\n      } else {\r\n        // Stop if hitting wall\r\n        pacman.direction = Direction.NONE;\r\n        pacman.velocity = { dx: 0, dy: 0 };\r\n      }\r\n    }\r\n\r\n    // Update animation\r\n    if (this.frameCount % 8 === 0) {\r\n      pacman.mouthOpen = !pacman.mouthOpen;\r\n      pacman.animationFrame = (pacman.animationFrame + 1) % 4;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update all ghost positions and AI behavior\r\n   */\r\n  private updateGhosts(): void {\r\n    this.gameState.ghosts.forEach(ghost => {\r\n      this.updateGhostState(ghost);\r\n      this.updateGhostMovement(ghost);\r\n      this.updateGhostAnimation(ghost);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update individual ghost state and target\r\n   */\r\n  private updateGhostState(ghost: Ghost): void {\r\n    // Handle house timer\r\n    if (ghost.state === GhostState.IN_HOUSE && ghost.houseTimer > 0) {\r\n      ghost.houseTimer--;\r\n      if (ghost.houseTimer <= 0) {\r\n        ghost.state = GhostState.CHASE;\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Handle frightened state\r\n    if (ghost.state === GhostState.FRIGHTENED) {\r\n      ghost.frightenedTimer--;\r\n      \r\n      // Start flashing when timer is low\r\n      if (ghost.frightenedTimer <= GAME_CONFIG.GHOST_FLASH_DURATION) {\r\n        ghost.isFlashing = Math.floor(ghost.frightenedTimer / 10) % 2 === 0;\r\n      }\r\n\r\n      if (ghost.frightenedTimer <= 0) {\r\n        ghost.state = GhostState.CHASE;\r\n        ghost.isFlashing = false;\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Handle eaten state\r\n    if (ghost.state === GhostState.EATEN) {\r\n      // Return to house\r\n      const housePos = GHOST_CONFIG[ghost.id].startPosition;\r\n      if (ghost.position.x === housePos.x && ghost.position.y === housePos.y) {\r\n        ghost.state = GhostState.CHASE;\r\n      }\r\n      ghost.targetPosition = housePos;\r\n      return;\r\n    }\r\n\r\n    // Normal chase/scatter behavior with AI adaptation\r\n    const baseTarget = this.getGhostTarget(ghost);\r\n    ghost.targetPosition = this.aiEngine.adaptGhostBehavior(\r\n      ghost,\r\n      this.gameState.pacman,\r\n      this.gameState.ghosts\r\n    );\r\n\r\n    // Alternate between chase and scatter modes\r\n    const modeTime = Math.floor(this.frameCount / 600); // Change every 10 seconds\r\n    ghost.state = modeTime % 2 === 0 ? GhostState.CHASE : GhostState.SCATTER;\r\n  }\r\n\r\n  /**\r\n   * Update ghost movement using pathfinding\r\n   */\r\n  private updateGhostMovement(ghost: Ghost): void {\r\n    if (ghost.state === GhostState.IN_HOUSE) {\r\n      // Simple up-down movement in house\r\n      if (this.frameCount % 60 < 30) {\r\n        ghost.direction = Direction.UP;\r\n      } else {\r\n        ghost.direction = Direction.DOWN;\r\n      }\r\n      this.setGhostVelocity(ghost);\r\n      return;\r\n    }\r\n\r\n    // Get possible directions (can't reverse unless frightened)\r\n    const possibleDirections = this.getPossibleDirections(ghost.position)\r\n      .filter(dir => {\r\n        if (ghost.state === GhostState.FRIGHTENED) return true;\r\n        return this.getOppositeDirection(dir) !== ghost.lastDirection;\r\n      });\r\n\r\n    if (possibleDirections.length === 0) return;\r\n\r\n    // Choose direction based on target\r\n    let bestDirection = possibleDirections[0];\r\n    let shortestDistance = Infinity;\r\n\r\n    if (ghost.state === GhostState.FRIGHTENED) {\r\n      // Random movement when frightened\r\n      bestDirection = possibleDirections[Math.floor(Math.random() * possibleDirections.length)];\r\n    } else {\r\n      // Move toward target\r\n      possibleDirections.forEach(direction => {\r\n        const nextPos = this.getNextPosition(ghost.position, direction);\r\n        const distance = this.manhattanDistance(nextPos, ghost.targetPosition);\r\n        \r\n        if (distance < shortestDistance) {\r\n          shortestDistance = distance;\r\n          bestDirection = direction;\r\n        }\r\n      });\r\n    }\r\n\r\n    ghost.lastDirection = ghost.direction;\r\n    ghost.direction = bestDirection;\r\n    this.setGhostVelocity(ghost);\r\n\r\n    // Move ghost\r\n    const nextPos = {\r\n      x: ghost.position.x + ghost.velocity.dx,\r\n      y: ghost.position.y + ghost.velocity.dy\r\n    };\r\n\r\n    // Handle tunnel wraparound\r\n    if (nextPos.x < 0) {\r\n      nextPos.x = GAME_CONFIG.MAZE_WIDTH - 1;\r\n    } else if (nextPos.x >= GAME_CONFIG.MAZE_WIDTH) {\r\n      nextPos.x = 0;\r\n    }\r\n\r\n    if (this.isValidMove(nextPos)) {\r\n      ghost.position = nextPos;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update ghost animation and visual effects\r\n   */\r\n  private updateGhostAnimation(ghost: Ghost): void {\r\n    // Update path prediction for AI visualization\r\n    if (this.frameCount % 30 === 0) { // Update every half second\r\n      const predictions = this.aiEngine.predictGhostMovements(\r\n        [ghost],\r\n        this.gameState.maze,\r\n        this.gameState.pacman\r\n      );\r\n      ghost.pathPrediction = predictions[ghost.id] || [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check collisions between Pac-Man and game elements\r\n   */\r\n  private checkCollisions(): void {\r\n    const pacmanPos = this.gameState.pacman.position;\r\n    const cellType = this.gameState.maze[pacmanPos.y][pacmanPos.x];\r\n\r\n    // Collect pellets\r\n    if (cellType === CellType.PELLET) {\r\n      this.gameState.maze[pacmanPos.y][pacmanPos.x] = CellType.EMPTY;\r\n      this.gameState.score += GAME_CONFIG.POINTS_PELLET;\r\n      this.gameState.pelletsRemaining--;\r\n      this.playSound('CHOMP');\r\n    }\r\n\r\n    // Collect power pellets\r\n    if (cellType === CellType.POWER_PELLET) {\r\n      this.gameState.maze[pacmanPos.y][pacmanPos.x] = CellType.EMPTY;\r\n      this.gameState.score += GAME_CONFIG.POINTS_POWER_PELLET;\r\n      this.gameState.pelletsRemaining--;\r\n      this.activatePowerPellet();\r\n      this.playSound('POWER_PELLET');\r\n    }\r\n\r\n    // Collect fruit\r\n    if (this.gameState.fruitPosition && \r\n        pacmanPos.x === this.gameState.fruitPosition.x && \r\n        pacmanPos.y === this.gameState.fruitPosition.y) {\r\n      const fruitPoints = GAME_CONFIG.POINTS_FRUIT[Math.min(this.gameState.level - 1, 7)];\r\n      this.gameState.score += fruitPoints;\r\n      this.gameState.fruitScore = fruitPoints;\r\n      this.gameState.fruitPosition = null;\r\n      this.gameState.fruitSpawned = false;\r\n      this.playSound('FRUIT');\r\n    }\r\n\r\n    // Check ghost collisions\r\n    this.gameState.ghosts.forEach(ghost => {\r\n      if (this.manhattanDistance(pacmanPos, ghost.position) < 1) {\r\n        if (ghost.state === GhostState.FRIGHTENED) {\r\n          // Eat ghost\r\n          ghost.state = GhostState.EATEN;\r\n          const points = GAME_CONFIG.POINTS_GHOST_BASE * Math.pow(2, this.gameState.ghostEatenCount);\r\n          this.gameState.score += points;\r\n          this.gameState.ghostEatenCount++;\r\n          this.gameState.screenShake = true;\r\n          this.playSound('GHOST_EATEN');\r\n        } else if (ghost.state !== GhostState.EATEN) {\r\n          // Pac-Man dies\r\n          this.gameState.pacman.isDead = true;\r\n          this.gameState.lives--;\r\n          this.gameState.screenShake = true;\r\n          this.playSound('DEATH');\r\n          \r\n          if (this.gameState.lives <= 0) {\r\n            this.gameState.gameStatus = 'GAME_OVER';\r\n          } else {\r\n            // Reset positions\r\n            setTimeout(() => this.resetPositions(), 2000);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Activate power pellet effect\r\n   */\r\n  private activatePowerPellet(): void {\r\n    this.gameState.powerPelletActive = true;\r\n    this.gameState.powerPelletTimer = GAME_CONFIG.POWER_PELLET_DURATION;\r\n    this.gameState.ghostEatenCount = 0;\r\n\r\n    // Make ghosts frightened\r\n    this.gameState.ghosts.forEach(ghost => {\r\n      if (ghost.state !== GhostState.EATEN && ghost.state !== GhostState.IN_HOUSE) {\r\n        ghost.state = GhostState.FRIGHTENED;\r\n        ghost.frightenedTimer = GAME_CONFIG.POWER_PELLET_DURATION;\r\n        ghost.isFlashing = false;\r\n        // Reverse direction\r\n        ghost.direction = this.getOppositeDirection(ghost.direction);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update power pellet timer\r\n   */\r\n  private updatePowerPelletTimer(): void {\r\n    if (this.gameState.powerPelletActive) {\r\n      this.gameState.powerPelletTimer--;\r\n      if (this.gameState.powerPelletTimer <= 0) {\r\n        this.gameState.powerPelletActive = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update AI analysis and danger map\r\n   */\r\n  private updateAIAnalysis(): void {\r\n    if (this.frameCount % 10 === 0) { // Update every 6th of a second\r\n      const analysis = this.aiEngine.analyzeGameState(\r\n        this.gameState.pacman,\r\n        this.gameState.ghosts,\r\n        this.gameState.maze\r\n      );\r\n\r\n      this.gameState.dangerMap = this.aiEngine.generateDangerHeatmap(\r\n        this.gameState.ghosts,\r\n        this.gameState.maze\r\n      );\r\n\r\n      this.gameState.aiLearningLevel = this.aiEngine.getLearningLevel();\r\n      this.gameState.playerPatterns = this.aiEngine.getPlayerPatterns();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check win/lose conditions\r\n   */\r\n  private checkGameConditions(): void {\r\n    // Check if all pellets collected\r\n    if (this.gameState.pelletsRemaining <= 0) {\r\n      this.gameState.gameStatus = 'LEVEL_COMPLETE';\r\n      this.gameState.level++;\r\n      \r\n      // Reset maze and positions for next level\r\n      setTimeout(() => {\r\n        this.gameState.maze = MAZE_LAYOUT.map(row => [...row]);\r\n        this.gameState.pelletsRemaining = this.countPellets(this.gameState.maze);\r\n        this.resetPositions();\r\n        this.gameState.gameStatus = 'READY';\r\n      }, 2000);\r\n    }\r\n\r\n    // Update high score\r\n    if (this.gameState.score > this.gameState.highScore) {\r\n      this.gameState.highScore = this.gameState.score;\r\n      localStorage.setItem('pacman-highscore', this.gameState.score.toString());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update visual effects\r\n   */\r\n  private updateVisualEffects(): void {\r\n    // Reset screen shake\r\n    if (this.gameState.screenShake) {\r\n      setTimeout(() => {\r\n        this.gameState.screenShake = false;\r\n      }, 200);\r\n    }\r\n\r\n    // Random VHS glitch effect\r\n    if (Math.random() < 0.001) {\r\n      this.gameState.vhsGlitch = true;\r\n      setTimeout(() => {\r\n        this.gameState.vhsGlitch = false;\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update fruit spawning logic\r\n   */\r\n  private updateFruitSpawning(): void {\r\n    if (!this.gameState.fruitSpawned && \r\n        this.gameState.pelletsRemaining < this.countPellets(MAZE_LAYOUT) * 0.7) {\r\n      // Spawn fruit when 70% of pellets are eaten\r\n      this.gameState.fruitSpawned = true;\r\n      this.gameState.fruitPosition = { x: 9, y: 15 }; // Center of maze\r\n      \r\n      // Remove fruit after 10 seconds\r\n      setTimeout(() => {\r\n        this.gameState.fruitPosition = null;\r\n        this.gameState.fruitSpawned = false;\r\n      }, 10000);\r\n    }\r\n  }\r\n\r\n  // Helper methods\r\n\r\n  private getGhostTarget(ghost: Ghost): Position {\r\n    const pacman = this.gameState.pacman;\r\n    \r\n    switch (ghost.id) {\r\n      case GhostType.BLINKY:\r\n        return pacman.position;\r\n        \r\n      case GhostType.PINKY:\r\n        return this.getPositionAhead(pacman.position, pacman.direction, 4);\r\n        \r\n      case GhostType.INKY:\r\n        const blinky = this.gameState.ghosts.find(g => g.id === GhostType.BLINKY);\r\n        if (blinky) {\r\n          const ahead = this.getPositionAhead(pacman.position, pacman.direction, 2);\r\n          return {\r\n            x: ahead.x + (ahead.x - blinky.position.x),\r\n            y: ahead.y + (ahead.y - blinky.position.y)\r\n          };\r\n        }\r\n        return pacman.position;\r\n        \r\n      case GhostType.CLYDE:\r\n        const distance = this.manhattanDistance(ghost.position, pacman.position);\r\n        return distance > 8 ? pacman.position : ghost.scatterTarget;\r\n        \r\n      default:\r\n        return pacman.position;\r\n    }\r\n  }\r\n\r\n  private getNextPosition(position: Position, direction: Direction): Position {\r\n    switch (direction) {\r\n      case Direction.UP:\r\n        return { x: position.x, y: position.y - 1 };\r\n      case Direction.DOWN:\r\n        return { x: position.x, y: position.y + 1 };\r\n      case Direction.LEFT:\r\n        return { x: position.x - 1, y: position.y };\r\n      case Direction.RIGHT:\r\n        return { x: position.x + 1, y: position.y };\r\n      default:\r\n        return position;\r\n    }\r\n  }\r\n\r\n  private getPositionAhead(position: Position, direction: Direction, distance: number): Position {\r\n    switch (direction) {\r\n      case Direction.UP:\r\n        return { x: position.x, y: Math.max(0, position.y - distance) };\r\n      case Direction.DOWN:\r\n        return { x: position.x, y: Math.min(GAME_CONFIG.MAZE_HEIGHT - 1, position.y + distance) };\r\n      case Direction.LEFT:\r\n        return { x: Math.max(0, position.x - distance), y: position.y };\r\n      case Direction.RIGHT:\r\n        return { x: Math.min(GAME_CONFIG.MAZE_WIDTH - 1, position.x + distance), y: position.y };\r\n      default:\r\n        return position;\r\n    }\r\n  }\r\n\r\n  private getOppositeDirection(direction: Direction): Direction {\r\n    switch (direction) {\r\n      case Direction.UP: return Direction.DOWN;\r\n      case Direction.DOWN: return Direction.UP;\r\n      case Direction.LEFT: return Direction.RIGHT;\r\n      case Direction.RIGHT: return Direction.LEFT;\r\n      default: return Direction.NONE;\r\n    }\r\n  }\r\n\r\n  private getPossibleDirections(position: Position): Direction[] {\r\n    const directions: Direction[] = [];\r\n    \r\n    if (this.isValidMove(this.getNextPosition(position, Direction.UP))) {\r\n      directions.push(Direction.UP);\r\n    }\r\n    if (this.isValidMove(this.getNextPosition(position, Direction.DOWN))) {\r\n      directions.push(Direction.DOWN);\r\n    }\r\n    if (this.isValidMove(this.getNextPosition(position, Direction.LEFT))) {\r\n      directions.push(Direction.LEFT);\r\n    }\r\n    if (this.isValidMove(this.getNextPosition(position, Direction.RIGHT))) {\r\n      directions.push(Direction.RIGHT);\r\n    }\r\n\r\n    return directions;\r\n  }\r\n\r\n  private isValidMove(position: Position): boolean {\r\n    if (position.y < 0 || position.y >= GAME_CONFIG.MAZE_HEIGHT) return false;\r\n    if (position.x < 0 || position.x >= GAME_CONFIG.MAZE_WIDTH) return false;\r\n    \r\n    const cellType = this.gameState.maze[position.y][position.x];\r\n    return cellType !== CellType.WALL;\r\n  }\r\n\r\n  private setVelocity(entity: PacMan, direction: Direction): void {\r\n    const speed = GAME_CONFIG.PACMAN_SPEED;\r\n    switch (direction) {\r\n      case Direction.UP:\r\n        entity.velocity = { dx: 0, dy: -speed };\r\n        break;\r\n      case Direction.DOWN:\r\n        entity.velocity = { dx: 0, dy: speed };\r\n        break;\r\n      case Direction.LEFT:\r\n        entity.velocity = { dx: -speed, dy: 0 };\r\n        break;\r\n      case Direction.RIGHT:\r\n        entity.velocity = { dx: speed, dy: 0 };\r\n        break;\r\n      default:\r\n        entity.velocity = { dx: 0, dy: 0 };\r\n    }\r\n  }\r\n\r\n  private setGhostVelocity(ghost: Ghost): void {\r\n    let speed = GAME_CONFIG.GHOST_SPEED;\r\n    \r\n    if (ghost.state === GhostState.FRIGHTENED) {\r\n      speed = GAME_CONFIG.FRIGHTENED_SPEED;\r\n    } else if (ghost.state === GhostState.EATEN) {\r\n      speed = GAME_CONFIG.GHOST_SPEED * 1.5; // Faster when returning to house\r\n    }\r\n\r\n    switch (ghost.direction) {\r\n      case Direction.UP:\r\n        ghost.velocity = { dx: 0, dy: -speed };\r\n        break;\r\n      case Direction.DOWN:\r\n        ghost.velocity = { dx: 0, dy: speed };\r\n        break;\r\n      case Direction.LEFT:\r\n        ghost.velocity = { dx: -speed, dy: 0 };\r\n        break;\r\n      case Direction.RIGHT:\r\n        ghost.velocity = { dx: speed, dy: 0 };\r\n        break;\r\n      default:\r\n        ghost.velocity = { dx: 0, dy: 0 };\r\n    }\r\n  }\r\n\r\n  private manhattanDistance(pos1: Position, pos2: Position): number {\r\n    return Math.abs(pos1.x - pos2.x) + Math.abs(pos1.y - pos2.y);\r\n  }\r\n\r\n  private countPellets(maze: CellType[][]): number {\r\n    let count = 0;\r\n    maze.forEach(row => {\r\n      row.forEach(cell => {\r\n        if (cell === CellType.PELLET || cell === CellType.POWER_PELLET) {\r\n          count++;\r\n        }\r\n      });\r\n    });\r\n    return count;\r\n  }\r\n\r\n  private resetPositions(): void {\r\n    this.gameState.pacman.position = { ...PACMAN_START_POSITION };\r\n    this.gameState.pacman.direction = Direction.NONE;\r\n    this.gameState.pacman.velocity = { dx: 0, dy: 0 };\r\n    this.gameState.pacman.isDead = false;\r\n\r\n    this.gameState.ghosts.forEach(ghost => {\r\n      ghost.position = { ...GHOST_CONFIG[ghost.id].startPosition };\r\n      ghost.direction = Direction.UP;\r\n      ghost.velocity = { dx: 0, dy: 0 };\r\n      ghost.state = ghost.id === GhostType.BLINKY ? GhostState.CHASE : GhostState.IN_HOUSE;\r\n      ghost.houseTimer = ghost.id === GhostType.BLINKY ? 0 : 60;\r\n    });\r\n\r\n    this.gameState.powerPelletActive = false;\r\n    this.gameState.powerPelletTimer = 0;\r\n    this.gameState.gameStatus = 'READY';\r\n  }\r\n\r\n  private playSound(soundName: string): void {\r\n    // Sound implementation would go here\r\n    // For now, just log the sound that would be played\r\n    console.log(`Playing sound: ${soundName}`);\r\n  }\r\n\r\n  // Public methods for external access\r\n\r\n  getGameState(): GameState {\r\n    return this.gameState;\r\n  }\r\n\r\n  startGame(): void {\r\n    this.gameState.gameStatus = 'PLAYING';\r\n  }\r\n\r\n  pauseGame(): void {\r\n    this.gameState.gameStatus = 'PAUSED';\r\n  }\r\n\r\n  resumeGame(): void {\r\n    this.gameState.gameStatus = 'PLAYING';\r\n  }\r\n\r\n  restartGame(): void {\r\n    this.gameState = this.initializeGameState();\r\n  }\r\n\r\n  toggleAIFeatures(): void {\r\n    this.gameState.showAIFeatures = !this.gameState.showAIFeatures;\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}